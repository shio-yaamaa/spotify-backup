!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=58)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(s,c)}a((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}},function(t,e){t.exports=require("path")},,function(t,e,n){var r,o,i=n(8),s=n(76),c=n(78),a=n(79),u=n(9);"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",o="___graceful-fs.previous");var f=function(){};if(u.debuglog?f=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(f=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!global[r]){var l=[];Object.defineProperty(global,r,{get:function(){return l}}),i.close=function(t){function e(e,n){return t.call(i,e,(function(t){t||d(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,o,{value:t}),e}(i.close),i.closeSync=function(t){function e(e){t.apply(i,arguments),d()}return Object.defineProperty(e,o,{value:t}),e}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){f(global[r]),n(27).equal(global[r].length,0)}))}function p(t){s(t),t.gracefulify=p,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,o){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof o&&o.apply(this,arguments),d()):h([t,[n,r,o]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,o){"function"==typeof r&&(o=r,r=null);return function t(e,r,o,i){return n(e,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),d()):h([t,[e,r,o,i]])}))}(t,e,r,o)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,o){"function"==typeof n&&(o=n,n=null);return function t(e,n,o,i){return r(e,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),d()):h([t,[e,n,o,i]])}))}(t,e,n,o)});var o=t.readdir;function i(e){return o.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),d()):h([i,[r]])})),i(r)},"v0.8"===process.version.substr(0,4)){var a=c(t);l=a.ReadStream,y=a.WriteStream}var u=t.ReadStream;u&&(l.prototype=Object.create(u.prototype),l.prototype.open=function(){var t=this;g(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var f=t.WriteStream;function l(t,e){return this instanceof l?(u.apply(this,arguments),this):l.apply(Object.create(l.prototype),arguments)}function y(t,e){return this instanceof y?(f.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}f&&(y.prototype=Object.create(f.prototype),y.prototype.open=function(){var t=this;g(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FileReadStream",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FileWriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0});var m=t.open;function g(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,o){return m(e,n,r,(function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),d()):h([t,[e,n,r,o]])}))}(t,e,n,r)}return t.open=g,t}function h(t){f("ENQUEUE",t[0].name,t[1]),global[r].push(t)}function d(){var t=global[r].shift();t&&(f("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}t.exports=p(a(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(t.exports=p(i),i.__patched=!0)},function(t,e,n){"use strict";var r=n(45),o=n(126),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function c(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===i.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:a,isStream:function(t){return c(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";function r(t,e){return t.require(e)}n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var o={};function i(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function s(){var t=i(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function a(t){var e=i();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry__&&(r[t]=n[t].__sentry_wrapped__,n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function u(t,e,n,r){void 0===r&&(r={handled:!0,type:"generic"}),t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error",t.exception.values[0].mechanism=t.exception.values[0].mechanism||r}},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((e,n)=>{arguments[arguments.length]=(t,r)=>{if(t)return n(t);e(r)},arguments.length++,t.apply(this,arguments)});t.apply(this,arguments)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(){const e=arguments[arguments.length-1];if("function"!=typeof e)return t.apply(this,arguments);t.apply(this,arguments).then(t=>e(null,t),e)}),"name",{value:t.name})}},function(t,e,n){"use strict";const r=(0,n(6).fromCallback)(n(81)),o=n(82);t.exports={mkdirs:r,mkdirsSync:o,mkdirp:r,mkdirpSync:o,ensureDir:r,ensureDirSync:o}},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function o(t){return"[object String]"===Object.prototype.toString.call(t)}function i(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function s(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function a(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function u(t){return s(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return u}))},function(t,e,n){"use strict";var r=n(10),o=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}();function i(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:r},__sentry_wrapped__:{enumerable:!1,value:o}})}catch(t){}t[e]=o}}function s(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function c(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function a(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=l(t,e);return c(r)>n?a(t,e-1,n):r}function u(t,e){return"domain"===e&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":"undefined"!=typeof Event&&t instanceof Event?Object.getPrototypeOf(t)?t.constructor.name:"Event":Object(r.f)(t)?"[SyntheticEvent]":Number.isNaN(t)?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function f(t,e,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new o),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=u(t);return Object(r.c)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var s=u(e,t);if(Object(r.c)(s))return s;var c=Object(r.a)(e)?function(t){var e={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(e):e,a=Array.isArray(e)?[]:{};if(i.memoize(e))return"[Circular ~]";for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=f(l,c[l],n-1,i));return i.unmemoize(e),a}function l(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return f(t,n,e)})))}catch(t){return"**non-serializable**"}}n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return l}))},function(t,e,n){"use strict";const r=n(6).fromPromise,o=n(33);t.exports={pathExists:r((function(t){return o.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:o.existsSync}},,function(t,e){t.exports=require("url")},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("https")},,function(t,e,n){"use strict";const r=n(3),o=n(1),i=10,s=5,c=0,a=process.versions.node.split("."),u=Number.parseInt(a[0],10),f=Number.parseInt(a[1],10),l=Number.parseInt(a[2],10);function p(){if(u>i)return!0;if(u===i){if(f>s)return!0;if(f===s&&l>=c)return!0}return!1}function h(t,e){const n=o.resolve(t).split(o.sep).filter(t=>t),r=o.resolve(e).split(o.sep).filter(t=>t);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function d(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,n,o){!function(t,e,n){p()?r.stat(t,{bigint:!0},(t,o)=>{if(t)return n(t);r.stat(e,{bigint:!0},(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:o,destStat:null}):n(t):n(null,{srcStat:o,destStat:e}))}):r.stat(t,(t,o)=>{if(t)return n(t);r.stat(e,(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:o,destStat:null}):n(t):n(null,{srcStat:o,destStat:e}))})}(t,e,(r,i)=>{if(r)return o(r);const{srcStat:s,destStat:c}=i;return c&&c.ino&&c.dev&&c.ino===s.ino&&c.dev===s.dev?o(new Error("Source and destination must not be the same.")):s.isDirectory()&&h(t,e)?o(new Error(d(t,e,n))):o(null,{srcStat:s,destStat:c})})},checkPathsSync:function(t,e,n){const{srcStat:o,destStat:i}=function(t,e){let n,o;n=p()?r.statSync(t,{bigint:!0}):r.statSync(t);try{o=p()?r.statSync(e,{bigint:!0}):r.statSync(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:null};throw t}return{srcStat:n,destStat:o}}(t,e);if(i&&i.ino&&i.dev&&i.ino===o.ino&&i.dev===o.dev)throw new Error("Source and destination must not be the same.");if(o.isDirectory()&&h(t,e))throw new Error(d(t,e,n));return{srcStat:o,destStat:i}},checkParentPaths:function t(e,n,i,s,c){const a=o.resolve(o.dirname(e)),u=o.resolve(o.dirname(i));if(u===a||u===o.parse(u).root)return c();p()?r.stat(u,{bigint:!0},(r,o)=>r?"ENOENT"===r.code?c():c(r):o.ino&&o.dev&&o.ino===n.ino&&o.dev===n.dev?c(new Error(d(e,i,s))):t(e,n,u,s,c)):r.stat(u,(r,o)=>r?"ENOENT"===r.code?c():c(r):o.ino&&o.dev&&o.ino===n.ino&&o.dev===n.dev?c(new Error(d(e,i,s))):t(e,n,u,s,c))},checkParentPathsSync:function t(e,n,i,s){const c=o.resolve(o.dirname(e)),a=o.resolve(o.dirname(i));if(a===c||a===o.parse(a).root)return;let u;try{u=p()?r.statSync(a,{bigint:!0}):r.statSync(a)}catch(t){if("ENOENT"===t.code)return;throw t}if(u.ino&&u.dev&&u.ino===n.ino&&u.dev===n.dev)throw new Error(d(e,i,s));return t(e,n,a,s)},isSrcSubdir:h}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(86);t.exports={remove:r(o),removeSync:o.sync}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayToMap=t=>{const e=new Map;for(const n of t)e.set(n.id,n);return e},e.shouldBackup=t=>"New"===t.name||parseInt(t.name)>0,e.sortPlaylists=t=>[...t].sort((t,e)=>t.name.localeCompare(e.name,"en",{numeric:!0})),e.sortTracks=t=>[...t].sort((t,e)=>Date.parse(t.addedAt)-Date.parse(e.addedAt)),e.isPlaylistModified=(t,e)=>{const n=t=>JSON.stringify(Object.assign(Object.assign({},t),{tracks:null}));return n(t)!==n(e)},e.isTrackModified=(t,e)=>{const n=t=>JSON.stringify(Object.assign(Object.assign({},t),{addedAt:null}));return n(t)!==n(e)},e.playlistToFormattedJson=t=>JSON.stringify(t,null,2),e.parsePlaylistString=t=>JSON.parse(t)},function(t,e){t.exports=require("os")},function(t,e,n){var r=n(60),o=n(61),i=n(14),s=n(62),c=n(9).inherits,a=n(68)("https-proxy-agent");function u(t){if(!(this instanceof u))return new u(t);if("string"==typeof t&&(t=i.parse(t)),!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");a("creating new HttpsProxyAgent instance: %o",t),s.call(this,t);var e=Object.assign({},t);this.secureProxy=!!e.protocol&&/^https:?$/i.test(e.protocol),e.host=e.hostname||e.host,e.port=+e.port||(this.secureProxy?443:80),!this.secureProxy||"ALPNProtocols"in e||(e.ALPNProtocols=["http 1.1"]),e.host&&e.path&&(delete e.path,delete e.pathname),this.proxy=e,this.defaultPort=443}t.exports=u,c(u,s),u.prototype.callback=function(t,e,n){var i,s=this.proxy;i=this.secureProxy?o.connect(s):r.connect(s);var c=[],u=0;function f(){var t=i.read();t?y(t):i.once("readable",f)}function l(){i.removeListener("data",y),i.removeListener("end",h),i.removeListener("error",d),i.removeListener("close",p),i.removeListener("readable",f)}function p(t){a("onclose had error %o",t)}function h(){a("onend")}function d(t){l(),n(t)}function y(r){c.push(r),u+=r.length;var s=Buffer.concat(c,u),p=s.toString("ascii");if(!~p.indexOf("\r\n\r\n"))return a("have not received end of HTTP headers yet..."),void(i.read?f():i.once("data",y));var h=p.substring(0,p.indexOf("\r\n")),d=+h.split(" ")[1];if(a("got proxy server response: %o",h),200==d){var g=i;c=s=null,e.secureEndpoint&&(a("upgrading proxy-connected socket to TLS connection: %o",e.host),e.socket=i,e.servername=e.servername||e.host,e.host=null,e.hostname=null,e.port=null,g=o.connect(e)),l(),n(null,g)}else l(),c=s,t.once("socket",m),n(null,i)}function m(t){if("function"==typeof t.ondata)t.ondata(c,0,c.length);else{if(!(t.listeners("data").length>0))throw new Error("should not happen...");t.emit("data",c)}c=null}i.on("error",d),i.on("close",p),i.on("end",h),i.read?f():i.once("data",y);var g="CONNECT "+(e.host+":"+e.port)+" HTTP/1.1\r\n",v=Object.assign({},s.headers);s.auth&&(v["Proxy-Authorization"]="Basic "+Buffer.from(s.auth).toString("base64"));var _,b,w=e.host;_=e.port,b=e.secureEndpoint,Boolean(!b&&80===_||b&&443===_)||(w+=":"+e.port),v.Host=w,v.Connection="close",Object.keys(v).forEach((function(t){g+=t+": "+v[t]+"\r\n"})),i.write(g+"\r\n")}},function(t,e){t.exports=require("domain")},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=n(0),o=n(148),i=n(10),s=n(11),c=n(5),a=n(55),u=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,n,s){var c=this;return void 0===s&&(s=0),new o.a((function(o,a){var u=t[s];if(null===e||"function"!=typeof u)o(e);else{var f=u(r.a({},e),n);Object(i.g)(f)?f.then((function(e){return c._notifyEventProcessors(t,e,n,s+1).then(o)})).catch(a):c._notifyEventProcessors(t,f,n,s+1).then(o).catch(a)}}))},t.prototype.setUser=function(t){return this._user=Object(s.b)(t),this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=r.a({},this._tags,Object(s.b)(t)),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=r.a({},this._tags,((n={})[t]=Object(s.b)(e),n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=r.a({},this._extra,Object(s.b)(t)),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=r.a({},this._extra,((n={})[t]=Object(s.b)(e),n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=Object(s.b)(t),this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=Object(s.b)(t),this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},t.prototype.setContext=function(t,e){return this._context[t]=e?Object(s.b)(e):void 0,this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.startSpan=function(t){var e=new a.a;return e.setParent(t),this.setSpan(e),e},t.prototype.getSpan=function(){return this._span},t.clone=function(e){var n=new t;return Object.assign(n,e,{_scopeListeners:[]}),e&&(n._breadcrumbs=r.f(e._breadcrumbs),n._tags=r.a({},e._tags),n._extra=r.a({},e._extra),n._context=r.a({},e._context),n._user=e._user,n._level=e._level,n._span=e._span,n._transaction=e._transaction,n._fingerprint=e._fingerprint,n._eventProcessors=r.f(e._eventProcessors)),n},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=(new Date).getTime()/1e3,o=r.a({timestamp:n},t);return this._breadcrumbs=void 0!==e&&e>=0?r.f(this._breadcrumbs,[Object(s.b)(o)]).slice(-e):r.f(this._breadcrumbs,[Object(s.b)(o)]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=r.a({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=r.a({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=r.a({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=r.a({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._span&&(t.contexts=t.contexts||{},t.contexts.trace=this._span),this._applyFingerprint(t),t.breadcrumbs=r.f(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(r.f(f(),this._eventProcessors),t,e)},t}();function f(){var t=Object(c.e)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function l(t){f().push(t)}},function(t,e){t.exports=require("tty")},function(t,e,n){"use strict";const r=n(21),o=n(72),{env:i}=process;let s;function c(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(0===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!t.isTTY&&void 0===s)return 0;const e=s||0;if("dumb"===i.TERM)return e;if("win32"===process.platform){const t=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in i)||"codeship"===i.CI_NAME?1:e;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const t=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:"COLORTERM"in i?1:e}(t))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?s=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=1),"FORCE_COLOR"in i&&(s=!0===i.FORCE_COLOR||"true"===i.FORCE_COLOR?1:!1===i.FORCE_COLOR||"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),t.exports={supportsColor:c,stdout:c(process.stdout),stderr:c(process.stderr)}},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(94);t.exports={readJson:r(o.readFile),readJsonSync:o.readFileSync,writeJson:r(o.writeFile),writeJsonSync:o.writeFileSync}},function(t,e,n){"use strict";var r=n(4);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))})))})),i=s.join("&")}if(i){var c=t.indexOf("#");-1!==c&&(t=t.slice(0,c)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";var r=n(49);t.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=s,c=Number(new Date),a=c-(n||c);i.diff=a,i.prev=n,i.curr=c,n=c,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var u=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;u++;var o=r.formatters[n];if("function"==typeof o){var s=e[u];t=o.call(i,s),e.splice(u,1),u--}return t})),r.formatArgs.call(i,e),(i.log||r.log).apply(i,e)}}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var i=r.instances[e];i.enabled=r.enabled(i.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(70),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){t.exports=require("module")},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(3),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof o[t]);Object.keys(o).forEach(t=>{"promises"!==t&&(e[t]=o[t])}),i.forEach(t=>{e[t]=r(o[t])}),e.exists=function(t,e){return"function"==typeof e?o.exists(t,e):new Promise(e=>o.exists(t,e))},e.read=function(t,e,n,r,i,s){return"function"==typeof s?o.read(t,e,n,r,i,s):new Promise((s,c)=>{o.read(t,e,n,r,i,(t,e,n)=>{if(t)return c(t);s({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?o.write(t,e,...n):new Promise((r,i)=>{o.write(t,e,...n,(t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffer:n})})})},"function"==typeof o.realpath.native&&(e.realpath.native=r(o.realpath.native))},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";t.exports={copySync:n(80)}},function(t,e,n){"use strict";const r=n(1);function o(t){return(t=r.normalize(r.resolve(t)).split(r.sep)).length>0?t[0]:null}const i=/[<>:"|?*]/;t.exports={getRootPath:o,invalidWin32Path:function(t){const e=o(t);return t=t.replace(e,""),i.test(t)}}},function(t,e,n){"use strict";const r=n(3),o=n(21),i=n(1);t.exports={hasMillisRes:function(t){let e=i.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=i.join(o.tmpdir(),e);const n=new Date(1435410243862);r.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",o=>{if(o)return t(o);r.open(e,"r+",(o,i)=>{if(o)return t(o);r.futimes(i,n,n,n=>{if(n)return t(n);r.close(i,n=>{if(n)return t(n);r.stat(e,(e,n)=>{if(e)return t(e);t(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let t=i.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=i.join(o.tmpdir(),t);const e=new Date(1435410243862);r.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(t,"r+");return r.futimesSync(n,e,e),r.closeSync(n),r.statSync(t).mtime>1435410243e3},timeRemoveMillis:function(t){if("number"==typeof t)return 1e3*Math.floor(t/1e3);if(t instanceof Date)return new Date(1e3*Math.floor(t.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(t,e,n,o){r.open(t,"r+",(t,i)=>{if(t)return o(t);r.futimes(i,e,n,t=>{r.close(i,e=>{o&&o(t||e)})})})},utimesMillisSync:function(t,e,n){const o=r.openSync(t,"r+");return r.futimesSync(o,e,n),r.closeSync(o)}}},function(t,e,n){"use strict";const r=n(6).fromCallback;t.exports={copy:r(n(84))}},function(t,e,n){!function(){"use strict";var e=n(103)("simple-git"),r=n(107),o=n(41),i=function(){},s=n(108);function c(t,e,n){this._baseDir=t,this._runCache=[],this.ChildProcess=e,this.Buffer=n}function a(t){return s[t]}c.prototype._command="git",c.prototype._env=null,c.prototype._outputHandler=null,c.prototype._silentLogging=/prod/.test("production"),c.prototype.customBinary=function(t){return this._command=t,this},c.prototype.env=function(t,e){return 1===arguments.length&&"object"==typeof t?this._env=t:(this._env=this._env||{})[t]=e,this},c.prototype.cwd=function(t,e){var n=this,r=c.trailingFunctionArgument(arguments);return this.exec((function(){n._baseDir=t,o(t,o.FOLDER)?r&&r(null,t):c.exception(n,'Git.cwd: cannot change to non-directory "'+t+'"',r)}))},c.prototype.outputHandler=function(t){return this._outputHandler=t,this},c.prototype.init=function(t,e){var n=["init"],r=c.trailingFunctionArgument(arguments);return!0===t&&n.push("--bare"),this._run(n,(function(t){r&&r(t)}))},c.prototype.status=function(t){return this._run(["status","--porcelain","-b","-u"],c._responseHandler(t,"StatusSummary"))},c.prototype.stashList=function(t,e){var n=c.trailingFunctionArgument(arguments),r=(n===e?t:null)||{},o=r.splitter||a("ListLogSummary").SPLITTER,i=["stash","list","--pretty=format:"+a("ListLogSummary").START_BOUNDARY+"%H %ai %s%d %aN %ae".replace(/\s+/g,o)+a("ListLogSummary").COMMIT_BOUNDARY];return Array.isArray(r)&&(i=i.concat(r)),this._run(i,c._responseHandler(n,"ListLogSummary",o))},c.prototype.stash=function(t,e){var n=["stash"];return c._appendOptions(n,c.trailingOptionsArgument(arguments)),n.push.apply(n,c.trailingArrayArgument(arguments)),this._run(n,c._responseHandler(c.trailingFunctionArgument(arguments)))},c.prototype.clone=function(t,e,n,r){for(var o=c.trailingFunctionArgument(arguments),i=["clone"].concat(c.trailingArrayArgument(arguments)),s=0,a=arguments.length;s<a;s++)"string"==typeof arguments[s]&&i.push(arguments[s]);return this._run(i,(function(t,e){o&&o(t,e)}))},c.prototype.mirror=function(t,e,n){return this.clone(t,e,["--mirror"],n)},c.prototype.mv=function(t,e,n){var r=c.trailingFunctionArgument(arguments),o=[].concat(t);o.unshift("mv","-v"),o.push(e),this._run(o,c._responseHandler(r,"MoveSummary"))},c.prototype.checkoutLatestTag=function(t){var e=this;return this.pull((function(){e.tags((function(n,r){e.checkout(r.latest,t)}))}))},c.prototype.add=function(t,e){return this._run(["add"].concat(t),(function(t,n){e&&e(t)}))},c.prototype.commit=function(t,e,n,r){var o=c.trailingFunctionArgument(arguments),i=["commit"];return[].concat(t).forEach((function(t){i.push("-m",t)})),[].push.apply(i,[].concat("string"==typeof e||Array.isArray(e)?e:[])),c._appendOptions(i,c.trailingOptionsArgument(arguments)),this._run(i,c._responseHandler(o,"CommitSummary"))},c.prototype._getLog=function(t,e){var n=this._silentLogging?i:console[t].bind(console);return arguments.length>1&&n(e),n},c.prototype.pull=function(t,e,n,r){var o=["pull"],i=c.trailingFunctionArgument(arguments);return"string"==typeof t&&"string"==typeof e&&o.push(t,e),c._appendOptions(o,c.trailingOptionsArgument(arguments)),this._run(o,c._responseHandler(i,"PullSummary"))},c.prototype.fetch=function(t,e,n){var r=["fetch"],o=c.trailingFunctionArgument(arguments);return c._appendOptions(r,c.trailingOptionsArgument(arguments)),"string"==typeof t&&"string"==typeof e&&r.push(t,e),Array.isArray(t)&&(r=r.concat(t)),this._run(r,c._responseHandler(o,"FetchSummary"),{concatStdErr:!0})},c.prototype.silent=function(t){return this._silentLogging=!!t,this},c.prototype.tags=function(t,e){var n=c.trailingFunctionArgument(arguments),r=["-l"];c._appendOptions(r,c.trailingOptionsArgument(arguments));var o=r.some((function(t){return/^--sort=/.test(t)}));return this.tag(r,c._responseHandler(n,"TagList",[o]))},c.prototype.rebase=function(t,e){var n=["rebase"];return c._appendOptions(n,c.trailingOptionsArgument(arguments)),n.push.apply(n,c.trailingArrayArgument(arguments)),this._run(n,c._responseHandler(c.trailingFunctionArgument(arguments)))},c.prototype.reset=function(t,e){var n=["reset"],r=c.trailingFunctionArgument(arguments);if(r!==t&&"string"!=typeof t&&t)Array.isArray(t)&&n.push.apply(n,t);else{var o=["mixed","soft","hard"].includes(t)?t:"soft";n.push("--"+o)}return this._run(n,(function(t){r&&r(t||null)}))},c.prototype.revert=function(t,e,n){var r=c.trailingFunctionArgument(arguments),o=["revert"];return c._appendOptions(o,c.trailingOptionsArgument(arguments)),"string"!=typeof t?this.exec((function(){r&&r(new TypeError("Commit must be a string"))})):(o.push(t),this._run(o,(function(t){r&&r(t||null)})))},c.prototype.addTag=function(t,e){return"string"!=typeof t?this.exec((function(){e&&e(new TypeError("Git.addTag requires a tag name"))})):this.tag([t],e)},c.prototype.addAnnotatedTag=function(t,e,n){return this.tag(["-a","-m",e,t],(function(t){n&&n(t)}))},c.prototype.checkout=function(t,e){var n=["checkout"];return n=n.concat(t),this._run(n,(function(t,n){e&&e(t,!t&&this._parseCheckout(n))}))},c.prototype.checkoutBranch=function(t,e,n){return this.checkout(["-b",t,e],n)},c.prototype.checkoutLocalBranch=function(t,e){return this.checkout(["-b",t],e)},c.prototype.deleteLocalBranch=function(t,e){return this.branch(["-d",t],e)},c.prototype.branch=function(t,e){var n,r,o=c.trailingFunctionArgument(arguments),i=["branch"];return i.push.apply(i,c.trailingArrayArgument(arguments)),c._appendOptions(i,c.trailingOptionsArgument(arguments)),arguments.length&&o!==t||i.push("-a"),n=["-d","-D","--delete"].reduce((function(t,e){return t||i.indexOf(e)>0}),!1),i.indexOf("-v")<0&&i.splice(1,0,"-v"),r=n?c._responseHandler(o,"BranchDeleteSummary",!1):c._responseHandler(o,"BranchSummary"),this._run(i,r)},c.prototype.branchLocal=function(t){return this.branch(["-v"],t)},c.prototype.addConfig=function(t,e,n){return this._run(["config","--local",t,e],(function(t,e){n&&n(t,!t&&e)}))},c.prototype.raw=function(t,e){var n=[];Array.isArray(t)?n=t.slice(0):c._appendOptions(n,c.trailingOptionsArgument(arguments));var r=c.trailingFunctionArgument(arguments);return n.length?this._run(n,(function(t,e){r&&r(t,!t&&e||null)})):this.exec((function(){r&&r(new Error("Raw: must supply one or more command to execute"),null)}))},c.prototype.submoduleAdd=function(t,e,n){return this._run(["submodule","add",t,e],(function(t){n&&n(t)}))},c.prototype.submoduleUpdate=function(t,e){"string"==typeof t&&this._getLog("warn","Git#submoduleUpdate: args should be supplied as an array of individual arguments");var n=c.trailingFunctionArgument(arguments),r=t!==n?t:[];return this.subModule(["update"].concat(r),(function(t,e){n&&n(t,e)}))},c.prototype.submoduleInit=function(t,e){"string"==typeof t&&this._getLog("warn","Git#submoduleInit: args should be supplied as an array of individual arguments");var n=c.trailingFunctionArgument(arguments),r=t!==n?t:[];return this.subModule(["init"].concat(r),(function(t,e){n&&n(t,e)}))},c.prototype.subModule=function(t,e){return Array.isArray(t)?("submodule"!==t[0]&&t.unshift("submodule"),this._run(t,(function(t,n){e&&e(t||null,t?null:n)}))):this.exec((function(){e&&e(new TypeError("Git.subModule requires an array of arguments"))}))},c.prototype.listRemote=function(t,e){var n=c.trailingFunctionArgument(arguments),r=n===t||void 0===t?[]:t;return"string"==typeof r&&this._getLog("warn","Git#listRemote: args should be supplied as an array of individual arguments"),this._run(["ls-remote"].concat(r),(function(t,e){n&&n(t,e)}))},c.prototype.addRemote=function(t,e,n){return this._run(["remote","add",t,e],(function(t){n&&n(t)}))},c.prototype.removeRemote=function(t,e){return this._run(["remote","remove",t],(function(t){e&&e(t)}))},c.prototype.getRemotes=function(t,e){var n=c.trailingFunctionArgument(arguments),r=!0===t?["-v"]:[];return this.remote(r,(function(t,e){n&&n(t,!t&&e.trim().split("\n").filter(Boolean).reduce((function(t,e){var n=e.trim().split(/\s+/),r=n.shift();return t[r]||(t[r]=t[t.length]={name:r,refs:{}}),n.length&&(t[r].refs[n.pop().replace(/[^a-z]/g,"")]=n.pop()),t}),[]).slice(0))}))},c.prototype.remote=function(t,e){return Array.isArray(t)?("remote"!==t[0]&&t.unshift("remote"),this._run(t,(function(t,n){e&&e(t||null,t?null:n)}))):this.exec((function(){e&&e(new TypeError("Git.remote requires an array of arguments"))}))},c.prototype.mergeFromTo=function(t,e,n,r){var o=[t,e],i=c.trailingFunctionArgument(arguments);return Array.isArray(n)&&(o=o.concat(n)),this.merge(o,i)},c.prototype.merge=function(t,e){var n=this,r=c.trailingFunctionArgument(arguments)||i,o=function(t,e){if(!t&&e.failed)return c.fail(n,e,r);r(t,e)},s=[];return c._appendOptions(s,c.trailingOptionsArgument(arguments)),s.push.apply(s,c.trailingArrayArgument(arguments)),"merge"!==s[0]&&s.unshift("merge"),1===s.length?this.exec((function(){e&&e(new TypeError("Git.merge requires at least one option"))})):this._run(s,c._responseHandler(o,"MergeSummary"),{concatStdErr:!0})},c.prototype.tag=function(t,e){var n=[];return c._appendOptions(n,c.trailingOptionsArgument(arguments)),n.push.apply(n,c.trailingArrayArgument(arguments)),"tag"!==n[0]&&n.unshift("tag"),this._run(n,c._responseHandler(c.trailingFunctionArgument(arguments)))},c.prototype.updateServerInfo=function(t){return this._run(["update-server-info"],(function(e,n){t&&t(e,!e&&n)}))},c.prototype.push=function(t,e,n){var r=[],o=c.trailingFunctionArgument(arguments);return"string"==typeof t&&"string"==typeof e&&r.push(t,e),Array.isArray(t)&&(r=r.concat(t)),c._appendOptions(r,c.trailingOptionsArgument(arguments)),"push"!==r[0]&&r.unshift("push"),this._run(r,(function(t,e){o&&o(t,!t&&e)}))},c.prototype.pushTags=function(t,e){var n=["push"];return"string"==typeof t&&n.push(t),n.push("--tags"),e="function"==typeof arguments[arguments.length-1]?arguments[arguments.length-1]:null,this._run(n,(function(t,n){e&&e(t,!t&&n)}))},c.prototype.rm=function(t,e){return this._rm(t,"-f",e)},c.prototype.rmKeepLocal=function(t,e){return this._rm(t,"--cached",e)},c.prototype.catFile=function(t,e){return this._catFile("utf-8",arguments)},c.prototype.binaryCatFile=function(t,e){return this._catFile("buffer",arguments)},c.prototype._catFile=function(t,e){var n=c.trailingFunctionArgument(e),r=["cat-file"],o=e[0];if("string"==typeof o)throw new TypeError("Git#catFile: options must be supplied as an array of strings");return Array.isArray(o)&&r.push.apply(r,o),this._run(r,(function(t,e){n&&n(t,e)}),{format:t})},c.prototype.diff=function(t,e){var n=["diff"];return"string"==typeof t?(n[0]+=" "+t,this._getLog("warn","Git#diff: supplying options as a single string is now deprecated, switch to an array of strings")):Array.isArray(t)&&n.push.apply(n,t),"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1]),this._run(n,(function(t,n){e&&e(t,n)}))},c.prototype.diffSummary=function(t,e){var n=c.trailingFunctionArgument(arguments),r=["--stat=4096"];return t&&t!==n&&r.push.apply(r,[].concat(t)),this.diff(r,c._responseHandler(n,"DiffSummary"))},c.prototype.revparse=function(t,e){var n=["rev-parse"];return"string"==typeof t?(n=n+" "+t,this._getLog("warn","Git#revparse: supplying options as a single string is now deprecated, switch to an array of strings")):Array.isArray(t)&&n.push.apply(n,t),"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1]),this._run(n,(function(t,n){e&&e(t,t?null:String(n).trim())}))},c.prototype.show=function(t,e){var n=[].slice.call(arguments,0),r="function"==typeof n[n.length-1]?n.pop():null,o=["show"];return"string"==typeof t?(o=o+" "+t,this._getLog("warn","Git#show: supplying options as a single string is now deprecated, switch to an array of strings")):Array.isArray(t)&&o.push.apply(o,t),this._run(o,(function(t,e){r&&r(t,!t&&e)}))},c.prototype.clean=function(t,e,n){var r=c.trailingFunctionArgument(arguments);if("string"!=typeof t||!/[nf]/.test(t))return this.exec((function(){r&&r(new TypeError('Git clean mode parameter ("n" or "f") is required'))}));if(/[^dfinqxX]/.test(t))return this.exec((function(){r&&r(new TypeError("Git clean unknown option found in "+JSON.stringify(t)))}));var o=["clean","-"+t];return Array.isArray(e)&&(o=o.concat(e)),o.some(i)?this.exec((function(){r&&r(new TypeError("Git clean interactive mode is not supported"))})):this._run(o,(function(t,e){r&&r(t,!t&&e)}));function i(t){return/^-[^\-]/.test(t)?t.indexOf("i")>0:"--interactive"===t}},c.prototype.exec=function(t){return this._run([],(function(){"function"==typeof t&&t()})),this},c.prototype.then=function(t){return this._getLog("warn","\nGit#then is deprecated after version 1.72 and will be removed in version 2.x\nPlease switch to using Git#exec to run arbitrary functions as part of the command chain.\n"),this.exec(t)},c.prototype.log=function(t,e){var n=c.trailingFunctionArgument(arguments),r=(n===e?t:null)||{},o=r.splitter||a("ListLogSummary").SPLITTER,i=r.format||{hash:"%H",date:"%ai",message:"%s",refs:"%D",body:r.multiLine?"%B":"%b",author_name:"%aN",author_email:"%ae"},s=!1!==r.symmetric?"...":"..",u=Object.keys(i),f=u.map((function(t){return i[t]})).join(o),l=[],p=["log","--pretty=format:"+a("ListLogSummary").START_BOUNDARY+f+a("ListLogSummary").COMMIT_BOUNDARY];return Array.isArray(r)?(p=p.concat(r),r={}):"string"!=typeof arguments[0]&&"string"!=typeof arguments[1]||(this._getLog("warn","Git#log: supplying to or from as strings is now deprecated, switch to an options configuration object"),r={from:arguments[0],to:arguments[1]}),(r.n||r["max-count"])&&p.push("--max-count="+(r.n||r["max-count"])),r.from&&r.to&&p.push(r.from+s+r.to),r.file&&l.push("--follow",t.file),"splitter n max-count file from to --pretty format symmetric multiLine".split(" ").forEach((function(t){delete r[t]})),c._appendOptions(p,r),this._run(p.concat(l),c._responseHandler(n,"ListLogSummary",[o,u]))},c.prototype.clearQueue=function(){return this._runCache.length=0,this},c.prototype.checkIgnore=function(t,e){var n=c.trailingFunctionArgument(arguments),r=["check-ignore"];return n!==t&&(r=r.concat(t)),this._run(r,(function(t,e){n&&n(t,!t&&this._parseCheckIgnore(e))}))},c.prototype.checkIsRepo=function(t){return this._run(["rev-parse","--is-inside-work-tree"],(function(e,n){t&&t(e,"true"===String(n).trim())}),{onError:function(t,e,n,r){if(128===t&&/(Not a git repository|Kein Git-Repository)/i.test(e))return n(!1);r(e)}})},c.prototype._rm=function(t,e,n){var r=[].concat(t),o=["rm",e];return o.push.apply(o,r),this._run(o,(function(t){n&&n(t)}))},c.prototype._parseCheckout=function(t){},c.prototype._parseCheckIgnore=function(t){return t.split(/\n/g).filter(Boolean).map((function(t){return t.trim()}))},c.prototype._run=function(t,e,n){return"string"==typeof t&&(t=t.split(" ")),this._runCache.push([t,e,n||{}]),this._schedule(),this},c.prototype._schedule=function(){if(!this._childProcess&&this._runCache.length){var t=this,n=t.Buffer,o=t._runCache.shift(),i=o[0],s=o[1],a=o[2];e(i);var u=r(),f=!1,l=function t(e){(f||h.length||p.length)&&(u.resolve(e),f=!0),f||(f=!0,setTimeout(t.bind(this,e),50))},p=[],h=[],d=t.ChildProcess.spawn(t._command,i.slice(0),{cwd:t._baseDir,env:t._env,windowsHide:!0});d.stdout.on("data",(function(t){p.push(t)})),d.stderr.on("data",(function(t){h.push(t)})),d.on("error",(function(t){h.push(n.from(t.stack,"ascii"))})),d.on("close",l),d.on("exit",l),u.promise.then((function(e){function r(e){s.call(t,null,e)}function o(e){c.fail(t,e,s)}if(delete t._childProcess,e&&h.length&&a.onError)a.onError(e,n.concat(h).toString("utf-8"),r,o);else if(e&&h.length)o(n.concat(h).toString("utf-8"));else{a.concatStdErr&&[].push.apply(p,h);var i=n.concat(p);"buffer"!==a.format&&(i=i.toString(a.format||"utf-8")),r(i)}process.nextTick(t._schedule.bind(t))})),t._childProcess=d,t._outputHandler&&t._outputHandler(i[0],t._childProcess.stdout,t._childProcess.stderr)}},c.fail=function(t,e,n){t._getLog("error",e),t._runCache.length=0,"function"==typeof n&&n.call(t,e,null)},c.trailingFunctionArgument=function(t){var e=t[t.length-1];return"function"==typeof e?e:null},c.trailingOptionsArgument=function(t){var e=t[t.length-(c.trailingFunctionArgument(t)?2:1)];return"[object Object]"===Object.prototype.toString.call(e)?e:null},c.trailingArrayArgument=function(t){var e=t[t.length-(c.trailingFunctionArgument(t)?2:1)];return"[object Array]"===Object.prototype.toString.call(e)?e:[]},c._appendOptions=function(t,e){null!==e&&Object.keys(e).forEach((function(n){var r=e[n];"string"==typeof r?t.push(n+"="+r):t.push(n)}))},c._responseHandler=function(t,e,n){return function(r,o){if("function"==typeof t){if(r)return t(r,null);if(!e)return t(null,o);var i=a(e),s=i.parse.apply(i,[o].concat(void 0===n?[]:n));t(null,s)}}},c.exception=function(t,e,n){t._runCache.length=0,"function"==typeof n&&n(e instanceof Error?e:new Error(e)),t._getLog("error",e)},t.exports=c}()},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,o=Number(new Date),i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;c++;const i=r.formatters[o];if("function"==typeof i){const r=t[c];n=i.call(e,r),t.splice(c,1),c--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(105),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e,n){var r=n(8);function o(t,e,n){try{var o=!1,i=r.statSync(t);return o=(o=o||e&&i.isFile())||n&&i.isDirectory()}catch(t){if("ENOENT"===t.code)return!1;throw t}}t.exports=function(t,e){return e?o(t,1&e,2&e):o(t,!0,!0)},t.exports.FILE=1,t.exports.FOLDER=2},function(t,e){function n(){this.files=[],this.insertions=0,this.deletions=0,this.changed=0}function r(t,e){if(t=t.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/)){var n=(t[3]||"").trim();return e.push({file:t[1].trim(),changes:parseInt(t[2],10),insertions:n.replace(/-/g,"").length,deletions:n.replace(/\+/g,"").length,binary:!1}),!0}}function o(t,e){if(t=t.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/))return e.push({file:t[1].trim(),before:+t[2],after:+t[3],binary:!0}),!0}t.exports=n,n.prototype.insertions=0,n.prototype.deletions=0,n.prototype.changed=0,n.parse=function(t){var e,i=t.trim().split("\n"),s=new n,c=i.pop();for(c&&c.trim().split(", ").forEach((function(t){var e=/(\d+)\s([a-z]+)/.exec(t);e&&(/files?/.test(e[2])?s.changed=parseInt(e[1],10):s[e[2].replace(/s$/,"")+"s"]=parseInt(e[1],10))}));e=i.shift();)r(e,s.files)||o(e,s.files);return s}},function(t,e,n){"use strict";function r(t,e,n){if(this.path=t,this.index=e,this.working_dir=n,"R"===e+n){var o=r.fromPathRegex.exec(t)||[null,t,t];this.from=o[1],this.path=o[2]}}r.fromPathRegex=/^(.+) -> (.+)$/,r.prototype={path:"",from:""},t.exports=r},function(t,e){function n(){this.files=[],this.insertions={},this.deletions={},this.summary={changes:0,insertions:0,deletions:0},this.created=[],this.deleted=[]}function r(t,e){var r=n.FILE_UPDATE_REGEX.exec(e);if(!r)return!1;t.files.push(r[1]);var o=r[2].length;o&&(t.insertions[r[1]]=o);var i=r[3].length;return i&&(t.deletions[r[1]]=i),!0}function o(t,e){if(!t.files.length)return!1;var r=n.SUMMARY_REGEX.exec(e);return!(!r||void 0===r[3]&&void 0===r[5])&&(t.summary.changes=+r[1]||0,t.summary.insertions=+r[3]||0,t.summary.deletions=+r[5]||0,!0)}function i(t,e){var r=n.ACTION_REGEX.exec(e);if(!r)return!1;var o=r[2];return t.files.indexOf(o)<0&&t.files.push(o),("create"===r[1]?t.created:t.deleted).push(o),!0}t.exports=n,n.prototype.created=null,n.prototype.deleted=null,n.prototype.files=null,n.prototype.insertions=null,n.prototype.deletions=null,n.prototype.summary=null,n.FILE_UPDATE_REGEX=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,n.SUMMARY_REGEX=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,n.ACTION_REGEX=/(create|delete) mode \d+ (.+)/,n.parse=function(t){for(var e=new n,s=t.split("\n");s.length;){var c=s.shift().trim();c&&(r(e,c)||o(e,c)||i(e,c))}return e}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(4),o=n(131),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,a={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?c=n(132):"undefined"!=typeof XMLHttpRequest&&(c=n(139)),c),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){a.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){a.headers[t]=r.merge(i)})),t.exports=a},function(t,e,n){"use strict";var r=n(30);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){var r=n(14),o=n(15),i=n(16),s=n(27),c=n(34).Writable,a=n(133)("follow-redirects"),u={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},f=Object.create(null);function l(t,e){c.call(this),t.headers=t.headers||{},this._options=t,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t.host&&(t.hostname||(t.hostname=t.host),delete t.host),e&&this.on("response",e);var n=this;if(this._onNativeResponse=function(t){n._processResponse(t)},!t.pathname&&t.path){var r=t.path.indexOf("?");r<0?t.pathname=t.path:(t.pathname=t.path.substring(0,r),t.search=t.path.substring(r))}this._performRequest()}function p(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach((function(o){var i=o+":",c=n[i]=t[o],u=e[o]=Object.create(c);u.request=function(t,o){return"string"==typeof t?(t=r.parse(t)).maxRedirects=e.maxRedirects:t=Object.assign({protocol:i,maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t),t.nativeProtocols=n,s.equal(t.protocol,i,"protocol mismatch"),a("options",t),new l(t,o)},u.get=function(t,e){var n=u.request(t,e);return n.end(),n}})),e}["abort","aborted","error","socket","timeout"].forEach((function(t){f[t]=function(e){this._redirectable.emit(t,e)}})),l.prototype=Object.create(c.prototype),l.prototype.write=function(t,e,n){if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(n=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):n&&n()},l.prototype.end=function(t,e,n){"function"==typeof t?(n=t,t=e=null):"function"==typeof e&&(n=e,e=null);var r=this._currentRequest;this.write(t||"",e,(function(){r.end(null,null,n)}))},l.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},l.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(t){l.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(l.prototype,t,{get:function(){return this._currentRequest[t]}})})),l.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var n=t.substr(0,t.length-1);this._options.agent=this._options.agents[n]}var o=this._currentRequest=e.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=r.format(this._options),o._redirectable=this,f)i&&o.on(i,f[i]);if(this._isRedirect){var s=0,c=this._requestBodyBuffers;!function t(){if(s<c.length){var e=c[s++];o.write(e.data,e.encoding,t)}else o.end()}()}}else this.emit("error",new Error("Unsupported protocol "+t))},l.prototype._processResponse=function(t){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:t.statusCode});var e=t.headers.location;if(e&&!1!==this._options.followRedirects&&t.statusCode>=300&&t.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var n,o=this._options.headers;if(307!==t.statusCode&&!(this._options.method in u))for(n in this._options.method="GET",this._requestBodyBuffers=[],o)/^content-/i.test(n)&&delete o[n];if(!this._isRedirect)for(n in o)/^host$/i.test(n)&&delete o[n];var i=r.resolve(this._currentUrl,e);a("redirecting to",i),Object.assign(this._options,r.parse(i)),this._isRedirect=!0,this._performRequest(),t.destroy()}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]},t.exports=p({http:o,https:i}),t.exports.wrap=p},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=arguments[c];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var a=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;a++;var o=e.formatters[r];if("function"==typeof o){var i=s[a];n=o.call(t,i),s.splice(a,1),a--}return n})),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(135),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){e=e||{};var n={};return r.forEach(["url","method","params","data"],(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"BaseTransport",(function(){return ct})),n.d(r,"HTTPTransport",(function(){return ft})),n.d(r,"HTTPSTransport",(function(){return pt}));var o={};n.r(o),n.d(o,"FunctionToString",(function(){return yt})),n.d(o,"InboundFilters",(function(){return gt}));var i={};n.r(i),n.d(i,"parseRequest",(function(){return Pt})),n.d(i,"requestHandler",(function(){return Nt})),n.d(i,"errorHandler",(function(){return Lt})),n.d(i,"defaultOnFatalError",(function(){return It}));var s={};n.r(s),n.d(s,"Console",(function(){return wt})),n.d(s,"Http",(function(){return Et})),n.d(s,"OnUncaughtException",(function(){return Mt})),n.d(s,"OnUnhandledRejection",(function(){return Ut})),n.d(s,"LinkedErrors",(function(){return $t})),n.d(s,"Modules",(function(){return Ht}));var c,a,u=n(0);!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(c||(c={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(c||(c={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(a||(a={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(a||(a={}));var f=n(24),l=n(150);function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Object(l.b)();if(r&&r[t])return r[t].apply(r,u.f(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function h(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return p("captureException",t,{originalException:t,syntheticException:e})}function d(t,e){var n;try{throw new Error(t)}catch(t){n=t}return p("captureMessage",t,e,{originalException:t,syntheticException:n})}function y(t){return p("captureEvent",t)}function m(t){p("configureScope",t)}function g(t){p("addBreadcrumb",t)}function v(t,e){p("setContext",t,e)}function _(t){p("setExtras",t)}function b(t){p("setTags",t)}function w(t,e){p("setExtra",t,e)}function S(t,e){p("setTag",t,e)}function E(t){p("setUser",t)}function x(t){p("withScope",t)}var C=n(55),O=n(149),k=n(10);function F(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function T(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var o=Math.max(e-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function j(t,e){return Object(k.d)(e)?e.test(t):"string"==typeof e&&t.includes(e)}var A=n(5),P=n(148),N=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var R=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,N(r,n.prototype),r}return u.c(e,t),e}(Error),L=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,I=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,o=e.pass,i=e.port,s=e.projectId;return e.protocol+"://"+e.user+(t&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+s},t.prototype._fromString=function(t){var e=L.exec(t);if(!e)throw new R("Invalid Dsn");var n=u.e(e.slice(1),6),r=n[0],o=n[1],i=n[2],s=void 0===i?"":i,c=n[3],a=n[4],f=void 0===a?"":a,l="",p=n[5],h=p.split("/");h.length>1&&(l=h.slice(0,-1).join("/"),p=h.pop()),Object.assign(this,{host:c,pass:s,path:l,projectId:p,port:f,protocol:r,user:o})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new R("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new R("Invalid Dsn");if(this.port&&Number.isNaN(parseInt(this.port,10)))throw new R("Invalid Dsn")},t}(),D=[];function M(t){var e={};return function(t){var e=t.defaultIntegrations&&u.f(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else{if("function"!=typeof n)return u.f(e);r=n(e),r=Array.isArray(r)?r:[r]}return r}(t).forEach((function(t){e[t.name]=t,function(t){-1===D.indexOf(t.name)&&(t.setupOnce(f.b,l.b),D.push(t.name),O.a.log("Integration installed: "+t.name))}(t)})),e}var U=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new I(e.dsn)),this._isEnabled()&&(this._integrations=M(this._options))}return t.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){return r._processEvent(t,e,n)})).then((function(t){o=t&&t.event_id,r._processing=!1})).catch((function(t){O.a.error(t),r._processing=!1})),o},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Object(k.c)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){return o._processEvent(t,n,r)})).then((function(t){i=t&&t.event_id,o._processing=!1})).catch((function(t){O.a.error(t),o._processing=!1})),i},t.prototype.captureEvent=function(t,e,n){var r=this,o=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){o=t&&t.event_id,r._processing=!1})).catch((function(t){O.a.error(t),r._processing=!1})),o},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.getIntegrations=function(){return this._integrations||{}},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return O.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new Promise((function(n){var r=0,o=0;clearInterval(o),o=setInterval((function(){e._processing?(r+=1,t&&r>=t&&n({interval:o,ready:!1})):n({interval:o,ready:!0})}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this.getOptions(),o=r.environment,i=r.release,s=r.dist,c=r.maxValueLength,a=void 0===c?250:c,f=u.a({},t);void 0===f.environment&&void 0!==o&&(f.environment=o),void 0===f.release&&void 0!==i&&(f.release=i),void 0===f.dist&&void 0!==s&&(f.dist=s),f.message&&(f.message=F(f.message,a));var l=f.exception&&f.exception.values&&f.exception.values[0];l&&l.value&&(l.value=F(l.value,a));var p=f.request;p&&p.url&&(p.url=F(p.url,a)),void 0===f.event_id&&(f.event_id=Object(A.f)()),this._addIntegrations(f.sdk);var h=P.a.resolve(f);return e&&(h=e.applyToEvent(f,n)),h},t.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&e.length>0&&(t.integrations=e)},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,s=o.sampleRate;return this._isEnabled()?"number"==typeof s&&Math.random()>s?P.a.reject("This event has been sampled, will not send event."):new P.a((function(o,s){r._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;try{if(e&&e.data&&!0===e.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var c=i(t,e);if(void 0===c)O.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(k.g)(c))r._handleAsyncBeforeSend(c,o,s);else{if(null===(n=c))return O.a.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}catch(t){r.captureException(t,{data:{__sentry__:!0},originalException:t}),s("`beforeSend` throw an error, will not send event.")}}else s("An event processor returned null, will not send event.")}))})):P.a.reject("SDK not enabled, will not send event.")},t.prototype._handleAsyncBeforeSend=function(t,e,n){var r=this;t.then((function(t){null!==t?(r._getBackend().sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).catch((function(t){n("beforeSend rejected with "+t)}))},t}(),B=function(){function t(){}return t.prototype.sendEvent=function(t){return Promise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:a.Skipped})},t.prototype.close=function(t){return Promise.resolve(!0)},t}(),q=function(){function t(t){this._options=t,this._options.dsn||O.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new B},t.prototype.eventFromException=function(t,e){throw new R("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new R("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).catch((function(t){O.a.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}(),$=n(11);var Y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function H(t){var e=Y.exec(t);return e?e.slice(1):[]}function z(t){var e=H(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}var G=n(8),J=n(56);var W=7,V=new J.LRUMap(100);function K(t){try{return t.functionName||t.typeName+"."+(t.methodName||"<anonymous>")}catch(t){return"<anonymous>"}}var X=(n.c[n.s]&&n.c[n.s].filename&&z(n.c[n.s].filename)||global.process.cwd())+"/";function Z(t,e){e||(e=X);var n,r,o=(n=".js",r=H(t)[2],n&&r.substr(-1*n.length)===n&&(r=r.substr(0,r.length-n.length)),r),i=(t=z(t)).lastIndexOf("/node_modules/");if(i>-1)return t.substr(i+14).replace(/\//g,".")+":"+o;if(0===(i=(t+"/").lastIndexOf(e,0))){var s=t.substr(e.length).replace(/\//g,".");return s&&(s+=":"),s+=o}return o}function Q(t){var e,n=(e=t).stack?e.stack.split("\n").slice(1).map((function(t){if(t.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:t,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var e=t.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(e){var n=null,r=null,o=null,i=null,s=null,c="native"===e[5];if(e[1]){var a=(o=e[1]).lastIndexOf(".");if("."===o[a-1]&&a--,a>0){n=o.substr(0,a),r=o.substr(a+1);var u=n.indexOf(".Module");u>0&&(o=o.substr(u+1),n=n.substr(0,u))}i=null}return r&&(i=n,s=r),"<anonymous>"===r&&(s=null,o=null),{columnNumber:parseInt(e[4],10)||null,fileName:e[2]||null,functionName:o,lineNumber:parseInt(e[3],10)||null,methodName:s,native:c,typeName:i}}})).filter((function(t){return!!t})):[];return n||[]}function tt(t,e){var n=[],r=e&&void 0!==e.frameContextLines?e.frameContextLines:W,o=t.map((function(t){var e={colno:t.columnNumber,filename:t.fileName||"",function:K(t),lineno:t.lineNumber},o=t.native||e.filename&&!e.filename.startsWith("/")&&!e.filename.startsWith(".")&&1!==e.filename.indexOf(":\\");return e.in_app=!o&&void 0!==e.filename&&!e.filename.includes("node_modules/"),e.filename&&(e.module=Z(e.filename),!o&&r>0&&n.push(e.filename)),e}));if(r<=0)return P.a.resolve(o);try{return function(t,e,n){return new P.a((function(r){return(o=t,0===o.length?P.a.resolve({}):new P.a((function(t){for(var e={},n=0,r=function(r){var i=o[r],s=V.get(i);if(void 0!==s)return null!==s&&(e[i]=s),++n===o.length&&t(e),"continue";Object(G.readFile)(i,(function(r,s){var c=r?null:s.toString();e[i]=c,V.set(i,c),++n===o.length&&t(e)}))},i=0;i<o.length;i++)r(i)}))).then((function(t){var o=e.map((function(e){if(e.filename&&t[e.filename])try{var r=t[e.filename].split("\n");e.pre_context=r.slice(Math.max(0,(e.lineno||0)-(n+1)),(e.lineno||0)-1).map((function(t){return T(t,0)})),e.context_line=T(r[(e.lineno||0)-1],e.colno||0),e.post_context=r.slice(e.lineno||0,(e.lineno||0)+n).map((function(t){return T(t,0)}))}catch(t){}return e}));r(o)}));var o}))}(n,o,r)}catch(t){return P.a.resolve(o)}}function et(t,e){var n=t.name||t.constructor.name,r=Q(t);return new P.a((function(o){return tt(r,e).then((function(e){var r={stacktrace:{frames:nt(e)},type:n,value:t.message};o(r)}))}))}function nt(t){if(!t||!t.length)return[];var e=t,n=e[0].function||"";return(n.includes("captureMessage")||n.includes("captureException"))&&(e=e.slice(1)),e.reverse()}var rt,ot=function(){function t(t){this.dsn=t,this._dsnObject=new I(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object($.d)(t)},t.prototype._getBaseUrl=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+(new Date).getTime()),r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},t}(),it=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).catch((function(){return e.remove(t).catch((function(){}))})),t):Promise.reject(new R("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Promise((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);Promise.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).catch((function(){n(!0)}))}))},t}(),st="sentry.javascript.node",ct=function(){function t(t){this.options=t,this._buffer=new it(30),this._api=new ot(t.dsn)}return t.prototype._getRequestOptions=function(){var t=u.a({},this._api.getRequestHeaders(st,"5.6.2"),this.options.headers),e=this._api.getDsn(),n={agent:this.client,headers:t,hostname:e.host,method:"POST",path:this._api.getStoreEndpointPath(),port:e.port,protocol:e.protocol+":"};return this.options.caCerts&&(n.ca=G.readFileSync(this.options.caCerts)),n},t.prototype._sendWithModule=function(t,e){return u.b(this,void 0,void 0,(function(){var n=this;return u.d(this,(function(r){return this._buffer.isReady()?[2,this._buffer.add(new Promise((function(r,o){var i=t.request(n._getRequestOptions(),(function(t){if(t.setEncoding("utf8"),t.statusCode&&t.statusCode>=200&&t.statusCode<300)r({status:a.fromHttpCode(t.statusCode)});else if(t.headers&&t.headers["x-sentry-error"]){var e=t.headers["x-sentry-error"];o(new R("HTTP Error ("+t.statusCode+"): "+e))}else o(new R("HTTP Error ("+t.statusCode+")"));t.on("data",(function(){})),t.on("end",(function(){}))}));i.on("error",o),i.end(JSON.stringify(e))})))]:[2,Promise.reject(new R("Not adding Promise due to buffer limit reached."))]}))}))},t.prototype.sendEvent=function(t){throw new R("Transport Class has to implement `sendEvent` method.")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),at=n(15),ut=n(22),ft=function(t){function e(e){var n=t.call(this,e)||this;n.options=e,n.module=at;var r=e.httpProxy||process.env.http_proxy;return n.client=r?new ut(r):new at.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return u.c(e,t),e.prototype.sendEvent=function(t){if(!this.module)throw new R("No module available in HTTPTransport");return this._sendWithModule(this.module,t)},e}(ct),lt=n(16),pt=function(t){function e(e){var n=t.call(this,e)||this;n.options=e,n.module=lt;var r=e.httpsProxy||e.httpProxy||process.env.https_proxy||process.env.http_proxy;return n.client=r?new ut(r):new lt.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),n}return u.c(e,t),e.prototype.sendEvent=function(t){if(!this.module)throw new R("No module available in HTTPSTransport");return this._sendWithModule(this.module,t)},e}(ct),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.c(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=new I(this._options.dsn),n=u.a({},this._options.transportOptions,this._options.httpProxy&&{httpProxy:this._options.httpProxy},this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy},this._options.caCerts&&{caCerts:this._options.caCerts},{dsn:this._options.dsn});return this._options.transport?new this._options.transport(n):"http"===e.protocol?new ft(n):new pt(n)},e.prototype.eventFromException=function(t,e){var n=this,r=t,o={handled:!0,type:"generic"};if(!Object(k.a)(t)){if(Object(k.b)(t)){var i="Non-Error exception captured with keys: "+function(t,e){if(void 0===e&&(e=40),!t.length)return"[object has no keys]";if(t[0].length>=e)return F(t[0],e);for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:F(r,e)}return""}(Object.keys(t).sort());Object(l.b)().configureScope((function(e){e.setExtra("__serialized__",Object($.c)(t))})),(r=e&&e.syntheticException||new Error(i)).message=i}else r=e&&e.syntheticException||new Error(t);o.synthetic=!0}return new P.a((function(t,i){return(s=r,c=n._options,new P.a((function(t){return et(s,c).then((function(e){t({exception:{values:[e]}})}))}))).then((function(n){Object(A.a)(n,void 0,void 0,o),t(u.a({},n,{event_id:e&&e.event_id}))})).catch(i);var s,c}))},e.prototype.eventFromMessage=function(t,e,n){var r=this;void 0===e&&(e=c.Info);var o={event_id:n&&n.event_id,level:e,message:t};return new P.a((function(t){r._options.attachStacktrace&&n&&n.syntheticException?tt(n.syntheticException?Q(n.syntheticException):[],r._options).then((function(e){o.stacktrace={frames:nt(e)},t(o)})):t(o)}))},e}(q),dt=function(t){function e(e){return t.call(this,ht,e)||this}return u.c(e,t),e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"node",e.sdk=u.a({},e.sdk,{name:st,packages:u.f(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/node",version:"5.6.2"}]),version:"5.6.2"}),this.getOptions().serverName&&(e.server_name=this.getOptions().serverName),t.prototype._prepareEvent.call(this,e,n,r)},e}(U),yt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){rt=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry__?this.__sentry_original__:this;return rt.apply(n,t)}},t.id="FunctionToString",t}(),mt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],gt=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Object(f.b)((function(e){var n=Object(l.b)();if(!n)return e;var r=n.getIntegration(t);if(r){var o=n.getClient(),i=o?o.getOptions():{},s=r._mergeOptions(i);if(r._shouldDropEvent(e,s))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(O.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(A.d)(t)),!0):this._isIgnoredError(t,e)?(O.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(A.d)(t)),!0):this._isBlacklistedUrl(t,e)?(O.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(A.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(O.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(A.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return"SentryError"===t.exception.values[0].type}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return j(t,e)}))}))},t.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some((function(t){return j(n,t)}))},t.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some((function(t){return j(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:u.f(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:u.f(this._options.ignoreErrors||[],t.ignoreErrors||[],mt),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:u.f(this._options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values[0],n=e.type,r=e.value;return[""+r,n+": "+r]}catch(e){return O.a.error("Cannot extract message for event "+Object(A.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e[e.length-1].filename}if(t.exception){var n=t.exception.values[0].stacktrace.frames;return n[n.length-1].filename}return null}catch(e){return O.a.error("Cannot extract url for event "+Object(A.d)(t)),null}},t.id="InboundFilters",t}();var vt,_t=n(23),bt=n(9),wt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var t=n(32);Object($.a)(t,"_load",function(t){return function(e){return function(n){var r=e.apply(t,arguments);return"console"!==n||r.__sentry__?r:(["debug","info","warn","error","log"].forEach(St(r)),r.__sentry__=!0,r)}}}(t)),n(73)},t.id="Console",t}();function St(t){return function(e){e in t&&Object($.a)(t,e,(function(n){var r;switch(e){case"debug":r=c.Debug;break;case"error":r=c.Error;break;case"info":r=c.Info;break;case"warn":r=c.Warning;break;default:r=c.Log}return function(){Object(l.b)().getIntegration(wt)&&Object(l.b)().addBreadcrumb({category:"console",level:r,message:bt.format.apply(void 0,arguments)},{input:u.f(arguments),level:e}),n.apply(t,arguments)}}))}}var Et=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var t=n(32);Object($.a)(t,"_load",function(t){return function(e){return function(n){var r=e.apply(t,arguments);if("http"!==n||r.__sentry__)return r;var o=r.ClientRequest,i=function(t,e){o.call(this,t,e),this.__ravenBreadcrumbUrl=xt(t)};return bt.inherits(i,o),Object($.a)(i.prototype,"emit",Ct),Object($.a)(r,"ClientRequest",(function(){return i})),Object($.a)(r,"request",(function(){return function(t,e){return new r.ClientRequest(t,e)}})),Object($.a)(r,"get",(function(){return function(t,e){var n=r.request(t,e);return n.end(),n}})),r.__sentry__=!0,r}}}(t)),n(15)},t.id="Http",t}();function xt(t){return"string"==typeof t?t:(t.protocol||"")+"//"+(t.hostname||t.host||"")+(t.port&&80!==t.port&&443!==t.port?":"+t.port:"")+(t.path||"/")}function Ct(t){return function(e,n){if(void 0!==vt&&vt===n)return t.apply(this,arguments);vt=n;var r=Object(l.b)().getClient();if(r){var o=r.getDsn(),i="response"===e||"error"===e,s=o&&this.__ravenBreadcrumbUrl&&!this.__ravenBreadcrumbUrl.includes(o.host);i&&s&&Object(l.b)().getIntegration(Et)&&Object(l.b)().addBreadcrumb({category:"http",data:{method:this.method,status_code:n.statusCode,url:this.__ravenBreadcrumbUrl},type:"http"},{event:e,request:this,response:n})}return t.apply(this,arguments)}}var Ot=n(57),kt=n(21),Ft=n(14),Tt=2e3;var jt=["cookies","data","headers","method","query_string","url"];var At=["id","username","email"];function Pt(t,e,n){if((n=u.a({request:!0,serverName:!0,transaction:!0,user:!0,version:!0},n)).version&&(t.extra=u.a({},t.extra,{node:global.process.version})),n.request&&(t.request=u.a({},t.request,function(t,e){var n={},r=Array.isArray(e)?e:jt,o=t.headers||t.header||{},i=t.method,s=t.hostname||t.host||o.host||"<no host>",c="https"===t.protocol||t.secure||(t.socket||{}).encrypted?"https":"http",a=t.originalUrl||t.url,u=c+"://"+s+a;return r.forEach((function(e){switch(e){case"headers":n.headers=o;break;case"method":n.method=i;break;case"url":n.url=u;break;case"cookies":n.cookies=Ot.parse(o.cookie||"");break;case"query_string":n.query_string=Ft.parse(a||"",!1).query;break;case"data":var r=t.body;"GET"!==i&&"HEAD"!==i||void 0===r&&(r="<unavailable>"),r&&!Object(k.e)(r)&&(r=JSON.stringify(Object($.b)(r))),n.data=r;break;default:({}).hasOwnProperty.call(t,e)&&(n[e]=t[e])}})),n}(e,n.request))),n.serverName&&(t.server_name=global.process.env.SENTRY_NAME||kt.hostname()),n.user&&e.user&&(t.user=u.a({},t.user,function(t,e){var n={};(Array.isArray(e)?e:At).forEach((function(e){({}).hasOwnProperty.call(t.user,e)&&(n[e]=t.user[e])}));var r=t.ip||t.connection&&t.connection.remoteAddress;return r&&(n.ip_address=r),n}(e,n.user))),n.transaction&&!t.transaction){var r=function(t,e){try{var n=t;switch(e){case"path":return n.route.path;case"handler":return n.route.stack[0].name;case"methodPath":default:return n.method.toUpperCase()+"|"+n.route.path}}catch(t){return}}(e,n.transaction);r&&(t.transaction=r)}return t}function Nt(t){return function(e,n,r){if(t&&t.flushTimeout&&t.flushTimeout>0){var o=n.end;n.end=function(e,n,r){var i=this;Wt(t.flushTimeout).then((function(){o.call(i,e,n,r)})).catch((function(t){O.a.error(t)}))}}var i=_t.create();i.add(e),i.add(n),i.on("error",r),i.run((function(){Object(l.b)().configureScope((function(n){return n.addEventProcessor((function(n){return Pt(n,e,t)}))})),r()}))}}function Rt(t){return function(t){var e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}(t)>=500}function Lt(t){return function(e,n,r,o){(t&&t.shouldHandleError||Rt)(e)?x((function(t){if(n.headers&&Object(k.e)(n.headers["sentry-trace"])){var i=C.a.fromTraceparent(n.headers["sentry-trace"]);t.setSpan(i)}var s=h(e);r.sentry=s,o(e)})):o(e)}}function It(t){console.error(t&&t.stack?t.stack:t);var e=Object(l.b)().getClient();if(void 0===e)return O.a.warn("No NodeClient was defined, we are exiting the process now."),void global.process.exit(1);var n=e.getOptions(),r=n&&n.shutdownTimeout&&n.shutdownTimeout>0&&n.shutdownTimeout||Tt;e.close(r).then((function(t){t||O.a.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)})).catch((function(t){console.error(t)}))}var Dt,Mt=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id,this.handler=this._makeErrorHandler()}return t.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},t.prototype._makeErrorHandler=function(){var e,n=this,r=!1,o=!1,i=!1;return function(s){var a=It,u=Object(l.b)().getClient();if(n._options.onFatalError?a=n._options.onFatalError:u&&u.getOptions().onFatalError&&(a=u.getOptions().onFatalError),r)i?(O.a.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),It(s)):o||(o=!0,setTimeout((function(){i||(i=!0,a(e,s))}),2e3));else{var f=Object(l.b)();e=s,r=!0,f.getIntegration(t)?f.withScope((function(t){t.setLevel(c.Fatal),f.captureException(s,{originalException:s}),i||(i=!0,a(s))})):i||(i=!0,a(s))}}},t.id="OnUncaughtException",t}(),Ut=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},t.prototype.sendUnhandledPromise=function(e,n){var r=Object(l.b)();if(r.getIntegration(t)){var o=n.domain&&n.domain.sentryContext||{};r.withScope((function(t){t.setExtra("unhandledPromiseRejection",!0),o.user&&t.setUser(o.user),o.tags&&t.setTags(o.tags),o.extra&&t.setExtras(o.extra),r.captureException(e,{originalException:n})}))}},t.id="OnUnhandledRejection",t}(),Bt="cause",qt=5,$t=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||Bt,this._limit=e.limit||qt}return t.prototype.setupOnce=function(){Object(f.b)((function(e,n){var r=Object(l.b)().getIntegration(t);return r?r.handler(e,n):e}))},t.prototype.handler=function(t,e){var n=this;return t.exception&&t.exception.values&&e&&e.originalException instanceof Error?new P.a((function(r){n.walkErrorTree(e.originalException,n._key).then((function(e){t&&t.exception&&t.exception.values&&(t.exception.values=u.f(e,t.exception.values)),r(t)}))})):P.a.resolve(t)},t.prototype.walkErrorTree=function(t,e,n){var r=this;return void 0===n&&(n=[]),!(t[e]instanceof Error)||n.length+1>=this._limit?P.a.resolve(n):new P.a((function(o){et(t[e]).then((function(i){r.walkErrorTree(t[e],e,u.f([i],n)).then(o)}))}))},t.id="LinkedErrors",t}(),Yt=n(1);var Ht=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){var r=this;e((function(e){return n().getIntegration(t)?u.a({},e,{modules:r._getModules()}):e}))},t.prototype._getModules=function(){var t,e,r,o;return Dt||(t=n.c[n.s]&&n.c[n.s].paths||[],e=n.c?Object.keys(n.c):[],r={},o={},e.forEach((function(e){var n=e,i=function(){var e=n;if((n=Object(Yt.dirname)(e))&&e!==n&&!o[e]){if(t.indexOf(n)<0)return i();var s=Object(Yt.join)(e,"package.json");if(o[e]=!0,!Object(G.existsSync)(s))return i();try{var c=JSON.parse(Object(G.readFileSync)(s,"utf8"));r[c.name]=c.version}catch(t){}}};i()})),Dt=r),Dt},t.id="Modules",t}(),zt=[new o.InboundFilters,new o.FunctionToString,new wt,new Et,new Mt,new Ut,new $t];function Gt(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=zt),void 0===t.dsn&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),void 0===t.release){var e=Object(A.e)();process.env.SENTRY_RELEASE?t.release=process.env.SENTRY_RELEASE:e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.environment&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),_t.active&&Object(l.e)(Object(l.d)(),Object(l.b)()),function(t,e){!0===e.debug&&O.a.enable(),Object(l.b)().bindClient(new t(e))}(dt,t)}function Jt(){return Object(l.b)().lastEventId()}function Wt(t){return u.b(this,void 0,void 0,(function(){var e;return u.d(this,(function(n){return(e=Object(l.b)().getClient())?[2,e.flush(t)]:[2,Promise.reject(!1)]}))}))}function Vt(t){return u.b(this,void 0,void 0,(function(){var e;return u.d(this,(function(n){return(e=Object(l.b)().getClient())?[2,e.close(t)]:[2,Promise.reject(!1)]}))}))}n.d(e,"Integrations",(function(){return Kt})),n.d(e,"Severity",(function(){return c})),n.d(e,"Status",(function(){return a})),n.d(e,"addGlobalEventProcessor",(function(){return f.b})),n.d(e,"addBreadcrumb",(function(){return g})),n.d(e,"captureException",(function(){return h})),n.d(e,"captureEvent",(function(){return y})),n.d(e,"captureMessage",(function(){return d})),n.d(e,"configureScope",(function(){return m})),n.d(e,"getCurrentHub",(function(){return l.b})),n.d(e,"getHubFromCarrier",(function(){return l.c})),n.d(e,"Hub",(function(){return l.a})),n.d(e,"Scope",(function(){return f.a})),n.d(e,"setContext",(function(){return v})),n.d(e,"setExtra",(function(){return w})),n.d(e,"setExtras",(function(){return _})),n.d(e,"setTag",(function(){return S})),n.d(e,"setTags",(function(){return b})),n.d(e,"setUser",(function(){return E})),n.d(e,"Span",(function(){return C.a})),n.d(e,"withScope",(function(){return x})),n.d(e,"NodeClient",(function(){return dt})),n.d(e,"defaultIntegrations",(function(){return zt})),n.d(e,"init",(function(){return Gt})),n.d(e,"lastEventId",(function(){return Jt})),n.d(e,"flush",(function(){return Wt})),n.d(e,"close",(function(){return Vt})),n.d(e,"SDK_NAME",(function(){return st})),n.d(e,"SDK_VERSION",(function(){return"5.6.2"})),n.d(e,"Transports",(function(){return r})),n.d(e,"Handlers",(function(){return i}));var Kt=u.a({},o,s)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(5),o=/^[ \t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \t]*$/,i=function(){function t(t,e,n,o){void 0===t&&(t=Object(r.f)()),void 0===e&&(e=Object(r.f)().substring(16)),this._traceId=t,this._spanId=e,this._sampled=n,this._parent=o}return t.prototype.setParent=function(t){return this._parent=t,this},t.prototype.setSampled=function(t){return this._sampled=t,this},t.fromTraceparent=function(e){var n=e.match(o);if(n){var r=void 0;"1"===n[3]?r=!0:"0"===n[3]&&(r=!1);var i=new t(n[1],n[2],r);return new t(n[1],void 0,r,i)}},t.prototype.toTraceparent=function(){var t="";return!0===this._sampled?t="-1":!1===this._sampled&&(t="-0"),this._traceId+"-"+this._spanId+t},t.prototype.toJSON=function(){return{parent:this._parent&&this._parent.toJSON()||void 0,sampled:this._sampled,span_id:this._spanId,trace_id:this._traceId}},t}()},function(t,e,n){var r,o;!function(i,s){const c=e;!function(t){const e=Symbol("newer"),n=Symbol("older");function r(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size))}function o(t,r){this.key=t,this.value=r,this[e]=void 0,this[n]=void 0}function i(t){this.entry=t}function s(t){this.entry=t}function c(t){this.entry=t}t.LRUMap=r,r.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][n]=t[n]),t[n]&&(t[n][e]=t[e]),t[e]=void 0,t[n]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t)},r.prototype.assign=function(t){let r,i=this.limit||Number.MAX_VALUE;this._keymap.clear();let s=t[Symbol.iterator]();for(let t=s.next();!t.done;t=s.next()){let s=new o(t.value[0],t.value[1]);if(this._keymap.set(s.key,s),r?(r[e]=s,s[n]=r):this.oldest=s,r=s,0==i--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size},r.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},r.prototype.set=function(t,r){var i=this._keymap.get(t);return i?(i.value=r,this._markEntryAsUsed(i),this):(this._keymap.set(t,i=new o(t,r)),this.newest?(this.newest[e]=i,i[n]=this.newest):this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift(),this)},r.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[n]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},r.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},r.prototype.has=function(t){return this._keymap.has(t)},r.prototype.delete=function(t){var r=this._keymap.get(t);if(r)return this._keymap.delete(r.key),r[e]&&r[n]?(r[n][e]=r[e],r[e][n]=r[n]):r[e]?(r[e][n]=void 0,this.oldest=r[e]):r[n]?(r[n][e]=void 0,this.newest=r[n]):this.oldest=this.newest=void 0,this.size--,r.value},r.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},r.prototype.keys=function(){return new s(this.oldest)},r.prototype.values=function(){return new c(this.oldest)},r.prototype.entries=function(){return this},r.prototype[Symbol.iterator]=function(){return new i(this.oldest)},r.prototype.forEach=function(t,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)t.call(n,r.value,r.key,this),r=r[e]},r.prototype.toJSON=function(){for(var t=new Array(this.size),n=0,r=this.oldest;r;)t[n++]={key:r.key,value:r.value},r=r[e];return t},r.prototype.toString=function(){for(var t="",n=this.oldest;n;)t+=String(n.key)+":"+n.value,(n=n[e])&&(t+=" < ");return t}}(c),void 0===(o="function"==typeof(r=c)?r.call(e,n,e,t):r)||(t.exports=o)}()},function(t,e,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */e.parse=function(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");for(var n={},o=e||{},s=t.split(i),a=o.decode||r,u=0;u<s.length;u++){var f=s[u],l=f.indexOf("=");if(!(l<0)){var p=f.substr(0,l).trim(),h=f.substr(++l,f.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),null==n[p]&&(n[p]=c(h,a))}}return n},e.serialize=function(t,e,n){var r=n||{},i=r.encode||o;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!s.test(t))throw new TypeError("argument name is invalid");var c=i(e);if(c&&!s.test(c))throw new TypeError("argument val is invalid");var a=t+"="+c;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");a+="; Max-Age="+Math.floor(u)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(a+="; HttpOnly");r.secure&&(a+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return a};var r=decodeURIComponent,o=encodeURIComponent,i=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function c(t,e){try{return e(t)}catch(e){return t}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(54),i=n(74),s=n(123),c=n(147);o.init({dsn:process.env.SENTRY_DSN});(()=>r(void 0,void 0,void 0,(function*(){const t=yield i.default.getPreviousPlaylists(),e=yield s.default.getPlaylists(),n=new c.default(t,e).constructSnapshots();yield i.default.commit(n)})))()},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=require("net")},function(t,e){t.exports=require("tls")},function(t,e,n){"use strict";n(63);const r=n(9).inherits,o=n(64),i=n(67).EventEmitter;function s(t,e){if(!(this instanceof s))return new s(t,e);i.call(this),this._promisifiedCallback=!1;let n=e;"function"==typeof t?this.callback=t:t&&(n=t),this.timeout=n&&n.timeout||null,this.options=n}t.exports=s,r(s,i),s.prototype.callback=function(t,e){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},s.prototype.addRequest=function(t,e){const n=Object.assign({},e);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let i;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,t._last=!0,t.shouldKeepAlive=!1;let s=!1;const c=this.timeout,a=this.freeSocket;function u(e){t._hadError||(t.emit("error",e),t._hadError=!0)}function f(t){s||(null!=i&&(clearTimeout(i),i=null),u(t))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=o(this.callback,this),this._promisifiedCallback=!0),c>0&&(i=setTimeout((function(){i=null,s=!0;const t=new Error('A "socket" was not created for HTTP request before '+c+"ms");t.code="ETIMEOUT",u(t)}),c));try{Promise.resolve(this.callback(t,r)).then((function(e){var n;if(!s)if(null!=i&&(clearTimeout(i),i=null),(n=e)&&"function"==typeof n.addRequest)e.addRequest(t,r);else if(e){e.on("free",(function(){a(e,r)})),t.onSocket(e)}else{u(new Error("no Duplex stream was returned to agent-base for `"+t.method+" "+t.path+"`"))}}),f)}catch(t){Promise.reject(t).catch(f)}},s.prototype.freeSocket=function(t,e){t.destroy()}},function(t,e,n){"use strict";const r=n(14),o=n(16),i="__agent_base_https_request_patched__";var s;o.request[i]||(o.request=(s=o.request,function(t,e){let n;return null==(n="string"==typeof t?r.parse(t):Object.assign({},t)).port&&(n.port=443),n.secureEndpoint=!0,s.call(o,n,e)}),o.request[i]=!0),o.get=function(t,e,n){let i;"string"==typeof t&&e&&"function"!=typeof e?i=Object.assign({},r.parse(t),e):e||n?n||(i=t,n=e):i=t;const s=o.request(i,n);return s.end(),s}},function(t,e,n){"use strict";t.exports=function(){var t=n(65);function e(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}return function(n,r){return function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];var c=r&&r.multiArgs,a=void 0;return r&&r.thisArg?a=r.thisArg:r&&(a=r),new t((function(t,r){i.push((function(e){if(e)return r(e);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(!1==!!c)return t(o[0]);t(o)}));var o=n.apply(a,i);e(o)&&t(o)}))}}}()},function(t,e,n){"use strict";var r;t.exports=(r=void 0,r=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!r.hasOwnProperty("Promise"))return!1;var t,e=r.Promise;return!!(e.hasOwnProperty("resolve")&&e.hasOwnProperty("reject")&&e.hasOwnProperty("all")&&e.hasOwnProperty("race")&&(t=void 0,new r.Promise((function(e){t=e}))&&"function"==typeof t))}()?r.Promise:n(66).Promise)},function(t,e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,r=void 0,o=void 0,i=function(t,e){p[n]=t,p[n+1]=e,2===(n+=2)&&(o?o(h):v())},s="undefined"!=typeof window?window:void 0,c=s||{},a=c.MutationObserver||c.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var t=setTimeout;return function(){return t(h,1)}}var p=new Array(1e3);function h(){for(var t=0;t<n;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;n=0}var d,y,m,g,v=void 0;function _(t,e){var n=this,r=new this.constructor(S);void 0===r[w]&&L(r);var o=n._state;if(o){var s=arguments[o-1];i((function(){return N(o,r,s,n._result)}))}else A(n,r,t,e);return r}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(S);return k(e,t),e}u?v=function(){return process.nextTick(h)}:a?(y=0,m=new a(h),g=document.createTextNode(""),m.observe(g,{characterData:!0}),v=function(){g.data=y=++y%2}):f?((d=new MessageChannel).port1.onmessage=h,v=function(){return d.port2.postMessage(0)}):v=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(h)}:l()}catch(t){return l()}}():l();var w=Math.random().toString(36).substring(2);function S(){}var E=void 0,x=1,C=2;function O(e,n,r){n.constructor===e.constructor&&r===_&&n.constructor.resolve===b?function(t,e){e._state===x?T(t,e._result):e._state===C?j(t,e._result):A(e,void 0,(function(e){return k(t,e)}),(function(e){return j(t,e)}))}(e,n):void 0===r?T(e,n):t(r)?function(t,e,n){i((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?k(t,n):T(t,n))}),(function(e){r||(r=!0,j(t,e))}),t._label);!r&&o&&(r=!0,j(t,o))}),t)}(e,n,r):T(e,n)}function k(t,e){if(t===e)j(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void j(t,e)}O(t,e,n)}var r,o}function F(t){t._onerror&&t._onerror(t._result),P(t)}function T(t,e){t._state===E&&(t._result=e,t._state=x,0!==t._subscribers.length&&i(P,t))}function j(t,e){t._state===E&&(t._state=C,t._result=e,i(F,t))}function A(t,e,n,r){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=e,o[s+x]=n,o[s+C]=r,0===s&&t._state&&i(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?N(n,r,o,i):o(i);t._subscribers.length=0}}function N(e,n,r,o){var i=t(r),s=void 0,c=void 0,a=!0;if(i){try{s=r(o)}catch(t){a=!1,c=t}if(n===s)return void j(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==E||(i&&a?k(n,s):!1===a?j(n,c):e===x?T(n,s):e===C&&j(n,s))}var R=0;function L(t){t[w]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var I=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(S),this.promise[w]||L(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&T(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===E&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===_&&t._state!==E)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===D){var c=new n(S);s?j(c,i):O(c,t,o),this._willSettleAt(c,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===E&&(this._remaining--,t===C?j(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,(function(t){return n._settledAt(x,e,t)}),(function(t){return n._settledAt(C,e,t)}))},t}(),D=function(){function e(t){this[w]=R++,this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){k(t,e)}),(function(e){j(t,e)}))}catch(e){j(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return D.prototype.then=_,D.all=function(t){return new I(this,t).promise},D.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},D.resolve=b,D.reject=function(t){var e=new this(S);return j(e,t),e},D._setScheduler=function(t){o=t},D._setAsap=function(t){i=t},D._asap=i,D.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D},D.Promise=D,D},t.exports=r()},function(t,e){t.exports=require("events")},function(t,e,n){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=n(69):t.exports=n(71)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(31)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=7*i,c=365.25*i;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=i)return a(t,e,i,"day");if(e>=o)return a(t,e,o,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=i)return Math.round(t/i)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";var r=n(25),o=n(9);e.init=function(t){t.inspectOpts={};for(var n=Object.keys(e.inspectOpts),r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},e.formatArgs=function(n){var r=this.namespace;if(this.useColors){var o=this.color,i="[3"+(o<8?o:"8;5;"+o),s="  ".concat(i,";1m").concat(r," [0m");n[0]=s+n[0].split("\n").join("\n"+s),n.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(e.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{var i=n(26);i&&(i.stderr||i).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t}),{}),t.exports=n(31)(e);var s=t.exports.formatters;s.o=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts)}},function(t,e,n){"use strict";t.exports=(t,e)=>{e=e||process.argv;const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return-1!==r&&(-1===o||r<o)}},function(t,e){t.exports=require("console")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(75),i=n(1),s=n(102),c=n(20),a=n(122),u=i.resolve(process.env.GITHUB_WORKSPACE,"playlists");e.default=new class{constructor(){this.git=s(),o.ensureDirSync(u)}getPreviousPlaylists(){return r(this,void 0,void 0,(function*(){const t=[],e=yield o.readdir(u);for(const n of e){const e=yield o.readFile(i.resolve(u,n),"utf8");t.push(c.parsePlaylistString(e))}return t}))}exportPlaylists(t){return r(this,void 0,void 0,(function*(){yield o.emptyDir(u);for(const e of t){const t=`${e.name}.json`;yield o.writeFile(i.resolve(u,t),c.playlistToFormattedJson(e))}}))}commit(t){return r(this,void 0,void 0,(function*(){if(1!==t.length)for(const e of t.slice(1))yield this.exportPlaylists(e.playlists),yield this.git.add(u),yield this.git.commit(a.actionToCommitMessage(e.actionFromPrev,e.playlists))}))}}},function(t,e,n){"use strict";t.exports=Object.assign({},n(33),n(35),n(38),n(85),n(87),n(93),n(7),n(97),n(99),n(101),n(12),n(19));const r=n(8);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(t.exports,"promises",{get:()=>r.promises})},function(t,e,n){var r=n(77),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(t){}var c=process.chdir;process.chdir=function(t){i=null,c.call(process,t)},t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,o){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?o&&o(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lchmodSync=function(e,n){var o,i=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{o=t.fchmodSync(i,n),s=!1}finally{if(s)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return o}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,o,i){t.open(e,r.O_SYMLINK,(function(e,r){e?i&&i(e):t.futimes(r,n,o,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lutimesSync=function(e,n,o){var i,s=t.openSync(e,r.O_SYMLINK),c=!0;try{i=t.futimesSync(s,n,o),c=!1}finally{if(c)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return i}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=i(t.chown),t.fchown=i(t.fchown),t.lchown=i(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=c(t.chownSync),t.fchownSync=c(t.fchownSync),t.lchownSync=c(t.lchownSync),t.chmodSync=o(t.chmodSync),t.fchmodSync=o(t.fchmodSync),t.lchmodSync=o(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===s&&(t.rename=(e=t.rename,function(n,r,o){var i=Date.now(),s=0;e(n,r,(function c(a){if(a&&("EACCES"===a.code||"EPERM"===a.code)&&Date.now()-i<6e4)return setTimeout((function(){t.stat(r,(function(t,i){t&&"ENOENT"===t.code?e(n,r,c):o(a)}))}),s),void(s<100&&(s+=10));o&&o(a)}))}));var e;function n(e){return e?function(n,r,o){return e.call(t,n,r,(function(t){f(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function o(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!f(t))throw t}}:e}function i(e){return e?function(n,r,o,i){return e.call(t,n,r,o,(function(t){f(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function c(e){return e?function(n,r,o){try{return e.call(t,n,r,o)}catch(t){if(!f(t))throw t}}:e}function a(e){return e?function(n,r,o){function i(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof r&&(o=r,r=null),r?e.call(t,n,r,i):e.call(t,n,i)}:e}function u(e){return e?function(n,r){var o=r?e.call(t,n,r):e.call(t,n);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:e}function f(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function n(n,r,o,i,s,c){var a;if(c&&"function"==typeof c){var u=0;a=function(f,l,p){if(f&&"EAGAIN"===f.code&&u<10)return u++,e.call(t,n,r,o,i,s,a);c.apply(this,arguments)}}return e.call(t,n,r,o,i,s,a)}return n.__proto__=e,n}(t.read),t.readSync=(l=t.readSync,function(e,n,r,o,i){for(var s=0;;)try{return l.call(t,e,n,r,o,i)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var l}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(34).Stream;t.exports=function(t){return{ReadStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this);var i=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;o=o||{};var s=Object.keys(o);for(var c=0,a=s.length;c<a;c++){var u=s[c];this[u]=o[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()}))},WriteStream:function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;o=o||{};var i=Object.keys(o);for(var s=0,c=i.length;s<c;s++){var a=i[s];this[a]=o[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(7).mkdirsSync,s=n(37).utimesMillisSync,c=n(18);function a(t,e,n,i){if(!i.filter||i.filter(e,n))return function(t,e,n,i){const s=(i.dereference?r.statSync:r.lstatSync)(e);if(s.isDirectory())return function(t,e,n,o,i){if(!e)return function(t,e,n,o){return r.mkdirSync(n),f(e,n,o),r.chmodSync(n,t.mode)}(t,n,o,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${o}' with directory '${n}'.`);return f(n,o,i)}(s,t,e,n,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,n,o,i){return e?function(t,e,n,o){if(o.overwrite)return r.unlinkSync(n),u(t,e,n,o);if(o.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,o,i):u(t,n,o,i)}(s,t,e,n,i);if(s.isSymbolicLink())return function(t,e,n,i){let s=r.readlinkSync(e);i.dereference&&(s=o.resolve(process.cwd(),s));if(t){let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(s,n);throw t}if(i.dereference&&(t=o.resolve(process.cwd(),t)),c.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&c.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(s,n)}return r.symlinkSync(s,n)}(t,e,n,i)}(t,e,n,i)}function u(t,e,o,i){return"function"==typeof r.copyFileSync?(r.copyFileSync(e,o),r.chmodSync(o,t.mode),i.preserveTimestamps?s(o,t.atime,t.mtime):void 0):function(t,e,o,i){const s=n(83)(65536),c=r.openSync(e,"r"),a=r.openSync(o,"w",t.mode);let u=0;for(;u<t.size;){const t=r.readSync(c,s,0,65536,u);r.writeSync(a,s,0,t),u+=t}i.preserveTimestamps&&r.futimesSync(a,t.atime,t.mtime);r.closeSync(c),r.closeSync(a)}(t,e,o,i)}function f(t,e,n){r.readdirSync(t).forEach(r=>(function(t,e,n,r){const i=o.join(e,t),s=o.join(n,t),{destStat:u}=c.checkPathsSync(i,s,"copy");return a(u,i,s,r)})(r,t,e,n))}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=c.checkPathsSync(t,e,"copy");return c.checkParentPathsSync(t,s,e,"copy"),function(t,e,n,s){if(s.filter&&!s.filter(e,n))return;const c=o.dirname(n);r.existsSync(c)||i(c);return a(t,e,n,s)}(u,t,e,n)}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(36).invalidWin32Path,s=parseInt("0777",8);t.exports=function t(e,n,c,a){if("function"==typeof n?(c=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&i(e)){const t=new Error(e+" contains invalid WIN32 path characters.");return t.code="EINVAL",c(t)}let u=n.mode;const f=n.fs||r;void 0===u&&(u=s&~process.umask()),a||(a=null),c=c||function(){},e=o.resolve(e),f.mkdir(e,u,r=>{if(!r)return c(null,a=a||e);switch(r.code){case"ENOENT":if(o.dirname(e)===e)return c(r);t(o.dirname(e),n,(r,o)=>{r?c(r,o):t(e,n,c,o)});break;default:f.stat(e,(t,e)=>{t||!e.isDirectory()?c(r,a):c(null,a)})}})}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(36).invalidWin32Path,s=parseInt("0777",8);t.exports=function t(e,n,c){n&&"object"==typeof n||(n={mode:n});let a=n.mode;const u=n.fs||r;if("win32"===process.platform&&i(e)){const t=new Error(e+" contains invalid WIN32 path characters.");throw t.code="EINVAL",t}void 0===a&&(a=s&~process.umask()),c||(c=null),e=o.resolve(e);try{u.mkdirSync(e,a),c=c||e}catch(r){if("ENOENT"===r.code){if(o.dirname(e)===e)throw r;c=t(o.dirname(e),n,c),t(e,n,c)}else{let t;try{t=u.statSync(e)}catch(t){throw r}if(!t.isDirectory())throw r}}return c}},function(t,e,n){"use strict";t.exports=function(t){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(t)}catch(e){return new Buffer(t)}return new Buffer(t)}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(7).mkdirs,s=n(12).pathExists,c=n(37).utimesMillis,a=n(18);function u(t,e,n,r,c){const a=o.dirname(n);s(a,(o,s)=>o?c(o):s?l(t,e,n,r,c):void i(a,o=>o?c(o):l(t,e,n,r,c)))}function f(t,e,n,r,o,i){Promise.resolve(o.filter(n,r)).then(s=>s?t(e,n,r,o,i):i(),t=>i(t))}function l(t,e,n,r,o){return r.filter?f(p,t,e,n,r,o):p(t,e,n,r,o)}function p(t,e,n,o,i){(o.dereference?r.stat:r.lstat)(e,(s,c)=>s?i(s):c.isDirectory()?function(t,e,n,o,i,s){if(!e)return function(t,e,n,o,i){r.mkdir(n,s=>{if(s)return i(s);y(e,n,o,e=>e?i(e):r.chmod(n,t.mode,i))})}(t,n,o,i,s);if(e&&!e.isDirectory())return s(new Error(`Cannot overwrite non-directory '${o}' with directory '${n}'.`));return y(n,o,i,s)}(c,t,e,n,o,i):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?function(t,e,n,o,i,s){return e?function(t,e,n,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error(`'${n}' already exists`)):i();r.unlink(n,r=>r?i(r):h(t,e,n,o,i))}(t,n,o,i,s):h(t,n,o,i,s)}(c,t,e,n,o,i):c.isSymbolicLink()?g(t,e,n,o,i):void 0)}function h(t,e,n,o,i){return"function"==typeof r.copyFile?r.copyFile(e,n,e=>e?i(e):d(t,n,o,i)):function(t,e,n,o,i){const s=r.createReadStream(e);s.on("error",t=>i(t)).once("open",()=>{const e=r.createWriteStream(n,{mode:t.mode});e.on("error",t=>i(t)).on("open",()=>s.pipe(e)).once("close",()=>d(t,n,o,i))})}(t,e,n,o,i)}function d(t,e,n,o){r.chmod(e,t.mode,r=>r?o(r):n.preserveTimestamps?c(e,t.atime,t.mtime,o):o())}function y(t,e,n,o){r.readdir(t,(r,i)=>r?o(r):m(i,t,e,n,o))}function m(t,e,n,r,i){const s=t.pop();return s?function(t,e,n,r,i,s){const c=o.join(n,e),u=o.join(r,e);a.checkPaths(c,u,"copy",(e,o)=>{if(e)return s(e);const{destStat:a}=o;l(a,c,u,i,e=>e?s(e):m(t,n,r,i,s))})}(t,s,e,n,r,i):i()}function g(t,e,n,i,s){r.readlink(e,(e,c)=>e?s(e):(i.dereference&&(c=o.resolve(process.cwd(),c)),t?void r.readlink(n,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(c,n,s):s(e):(i.dereference&&(u=o.resolve(process.cwd(),u)),a.isSrcSubdir(c,u)?s(new Error(`Cannot copy '${c}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&a.isSrcSubdir(u,c)?s(new Error(`Cannot overwrite '${u}' with '${c}'.`)):function(t,e,n){r.unlink(e,o=>o?n(o):r.symlink(t,e,n))}(c,n,s))):r.symlink(c,n,s)))}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),a.checkPaths(t,e,"copy",(o,i)=>{if(o)return r(o);const{srcStat:s,destStat:c}=i;a.checkParentPaths(t,s,e,"copy",o=>o?r(o):n.filter?f(u,c,t,e,n,r):u(c,t,e,n,r))})}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(3),i=n(1),s=n(7),c=n(19),a=r((function(t,e){e=e||function(){},o.readdir(t,(n,r)=>{if(n)return s.mkdirs(t,e);r=r.map(e=>i.join(t,e)),function t(){const n=r.pop();if(!n)return e();c.remove(n,n=>{if(n)return e(n);t()})}()})}));function u(t){let e;try{e=o.readdirSync(t)}catch(e){return s.mkdirsSync(t)}e.forEach(e=>{e=i.join(t,e),c.removeSync(e)})}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:a,emptydir:a}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(27),s="win32"===process.platform;function c(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function a(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i.strictEqual(typeof n,"function","rimraf: callback function required"),i(e,"rimraf: invalid options argument provided"),i.strictEqual(typeof e,"object","rimraf: options should be object"),c(e),u(t,e,(function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&r<e.maxBusyTries){return r++,setTimeout(()=>u(t,e,o),100*r)}"ENOENT"===i.code&&(i=null)}n(i)}))}function u(t,e,n){i(t),i(e),i("function"==typeof n),e.lstat(t,(r,o)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?f(t,e,r,n):o&&o.isDirectory()?p(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?f(t,e,r,n):p(t,e,r,n);if("EISDIR"===r.code)return p(t,e,r,n)}return n(r)}))}function f(t,e,n,r){i(t),i(e),i("function"==typeof r),n&&i(n instanceof Error),e.chmod(t,438,o=>{o?r("ENOENT"===o.code?null:n):e.stat(t,(o,i)=>{o?r("ENOENT"===o.code?null:n):i.isDirectory()?p(t,e,n,r):e.unlink(t,r)})})}function l(t,e,n){let r;i(t),i(e),n&&i(n instanceof Error);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?d(t,e,n):e.unlinkSync(t)}function p(t,e,n,r){i(t),i(e),n&&i(n instanceof Error),i("function"==typeof r),e.rmdir(t,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(t,e,n){i(t),i(e),i("function"==typeof n),e.readdir(t,(r,i)=>{if(r)return n(r);let s,c=i.length;if(0===c)return e.rmdir(t,n);i.forEach(r=>{a(o.join(t,r),e,r=>{if(!s)return r?n(s=r):void(0==--c&&e.rmdir(t,n))})})})}(t,e,r)})}function h(t,e){let n;c(e=e||{}),i(t,"rimraf: missing path"),i.strictEqual(typeof t,"string","rimraf: path should be a string"),i(e,"rimraf: missing options"),i.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&l(t,e,n)}try{n&&n.isDirectory()?d(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?l(t,e,n):d(t,e,n);if("EISDIR"!==n.code)throw n;d(t,e,n)}}function d(t,e,n){i(t),i(e),n&&i(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(i(t),i(e),e.readdirSync(t).forEach(n=>h(o.join(t,n),e)),!s){return e.rmdirSync(t,e)}{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch(t){}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=a,a.sync=h},function(t,e,n){"use strict";const r=n(88),o=n(89),i=n(90);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(1),i=n(3),s=n(7),c=n(12).pathExists;t.exports={createFile:r((function(t,e){function n(){i.writeFile(t,"",t=>{if(t)return e(t);e()})}i.stat(t,(r,i)=>{if(!r&&i.isFile())return e();const a=o.dirname(t);c(a,(t,r)=>t?e(t):r?n():void s.mkdirs(a,t=>{if(t)return e(t);n()}))})})),createFileSync:function(t){let e;try{e=i.statSync(t)}catch(t){}if(e&&e.isFile())return;const n=o.dirname(t);i.existsSync(n)||s.mkdirsSync(n),i.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(1),i=n(3),s=n(7),c=n(12).pathExists;t.exports={createLink:r((function(t,e,n){function r(t,e){i.link(t,e,t=>{if(t)return n(t);n(null)})}c(e,(a,u)=>a?n(a):u?n(null):void i.lstat(t,i=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);const a=o.dirname(e);c(a,(o,i)=>o?n(o):i?r(t,e):void s.mkdirs(a,o=>{if(o)return n(o);r(t,e)}))}))})),createLinkSync:function(t,e){if(i.existsSync(e))return;try{i.lstatSync(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=o.dirname(e);return i.existsSync(n)?i.linkSync(t,e):(s.mkdirsSync(n),i.linkSync(t,e))}}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(1),i=n(3),s=n(7),c=s.mkdirs,a=s.mkdirsSync,u=n(91),f=u.symlinkPaths,l=u.symlinkPathsSync,p=n(92),h=p.symlinkType,d=p.symlinkTypeSync,y=n(12).pathExists;t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,y(e,(s,a)=>s?r(s):a?r(null):void f(t,e,(s,a)=>{if(s)return r(s);t=a.toDst,h(a.toCwd,n,(n,s)=>{if(n)return r(n);const a=o.dirname(e);y(a,(n,o)=>n?r(n):o?i.symlink(t,e,s,r):void c(a,n=>{if(n)return r(n);i.symlink(t,e,s,r)}))})}))})),createSymlinkSync:function(t,e,n){if(i.existsSync(e))return;const r=l(t,e);t=r.toDst,n=d(r.toCwd,n);const s=o.dirname(e);return i.existsSync(s)?i.symlinkSync(t,e,n):(a(s),i.symlinkSync(t,e,n))}}},function(t,e,n){"use strict";const r=n(1),o=n(3),i=n(12).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return o.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const s=r.dirname(e),c=r.join(s,t);return i(c,(e,i)=>e?n(e):i?n(null,{toCwd:c,toDst:t}):o.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(s,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(!(n=o.existsSync(t)))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const i=r.dirname(e),s=r.join(i,t);if(n=o.existsSync(s))return{toCwd:s,toDst:t};if(!(n=o.existsSync(t)))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(i,t)}}}}},function(t,e,n){"use strict";const r=n(3);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch(t){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(28);o.outputJson=r(n(95)),o.outputJsonSync=n(96),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,t.exports=o},function(t,e,n){var r;try{r=n(3)}catch(t){r=n(8)}function o(t,e){var n,r="\n";return"object"==typeof e&&null!==e&&(e.spaces&&(n=e.spaces),e.EOL&&(r=e.EOL)),JSON.stringify(t,e?e.replacer:null,n).replace(/\n/g,r)+r}function i(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var s={readFile:function(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e});var o=(e=e||{}).fs||r,s=!0;"throws"in e&&(s=e.throws),o.readFile(t,e,(function(r,o){if(r)return n(r);var c;o=i(o);try{c=JSON.parse(o,e?e.reviver:null)}catch(e){return s?(e.message=t+": "+e.message,n(e)):n(null,null)}n(null,c)}))},readFileSync:function(t,e){"string"==typeof(e=e||{})&&(e={encoding:e});var n=e.fs||r,o=!0;"throws"in e&&(o=e.throws);try{var s=n.readFileSync(t,e);return s=i(s),JSON.parse(s,e.reviver)}catch(e){if(o)throw e.message=t+": "+e.message,e;return null}},writeFile:function(t,e,n,i){null==i&&(i=n,n={});var s=(n=n||{}).fs||r,c="";try{c=o(e,n)}catch(t){return void(i&&i(t,null))}s.writeFile(t,c,n,i)},writeFileSync:function(t,e,n){var i=(n=n||{}).fs||r,s=o(e,n);return i.writeFileSync(t,s,n)}};t.exports=s},function(t,e,n){"use strict";const r=n(1),o=n(7),i=n(12).pathExists,s=n(28);t.exports=function(t,e,n,c){"function"==typeof n&&(c=n,n={});const a=r.dirname(t);i(a,(r,i)=>r?c(r):i?s.writeJson(t,e,n,c):void o.mkdirs(a,r=>{if(r)return c(r);s.writeJson(t,e,n,c)}))}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(7),s=n(28);t.exports=function(t,e,n){const c=o.dirname(t);r.existsSync(c)||i.mkdirsSync(c),s.writeJsonSync(t,e,n)}},function(t,e,n){"use strict";t.exports={moveSync:n(98)}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(35).copySync,s=n(19).removeSync,c=n(7).mkdirpSync,a=n(18);function u(t,e,n){try{r.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return i(t,e,{overwrite:n,errorOnExist:true}),s(t)}(t,e,n)}}t.exports=function(t,e,n){const i=(n=n||{}).overwrite||n.clobber||!1,{srcStat:f}=a.checkPathsSync(t,e,"move");return a.checkParentPathsSync(t,f,e,"move"),c(o.dirname(e)),function(t,e,n){if(n)return s(e),u(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return u(t,e,n)}(t,e,i)}},function(t,e,n){"use strict";const r=n(6).fromCallback;t.exports={move:r(n(100))}},function(t,e,n){"use strict";const r=n(3),o=n(1),i=n(38).copy,s=n(19).remove,c=n(7).mkdirp,a=n(12).pathExists,u=n(18);function f(t,e,n,o){r.rename(t,e,r=>r?"EXDEV"!==r.code?o(r):function(t,e,n,r){i(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):s(t,r))}(t,e,n,o):o())}t.exports=function(t,e,n,r){"function"==typeof n&&(r=n,n={});const i=n.overwrite||n.clobber||!1;u.checkPaths(t,e,"move",(n,l)=>{if(n)return r(n);const{srcStat:p}=l;u.checkParentPaths(t,p,e,"move",n=>{if(n)return r(n);c(o.dirname(e),n=>n?r(n):function(t,e,n,r){if(n)return s(e,o=>o?r(o):f(t,e,n,r));a(e,(o,i)=>o?r(o):i?r(new Error("dest already exists.")):f(t,e,n,r))}(t,e,i,r))})})}},function(t,e,n){"use strict";const r=n(6).fromCallback,o=n(3),i=n(1),s=n(7),c=n(12).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const a=i.dirname(t);c(a,(i,c)=>i?r(i):c?o.writeFile(t,e,n,r):void s.mkdirs(a,i=>{if(i)return r(i);o.writeFile(t,e,n,r)}))})),outputFileSync:function(t,...e){const n=i.dirname(t);if(o.existsSync(n))return o.writeFileSync(t,...e);s.mkdirsSync(n),o.writeFileSync(t,...e)}}},function(t,e,n){"use strict";if("undefined"==typeof Promise)throw new ReferenceError("Promise wrappers must be enabled to use the promise API");t.exports=function(t){var e,r=n(39),o=n(118),i=Promise.resolve();try{e=o(t)}catch(t){i=Promise.reject(t)}return Object.keys(r.prototype).reduce((function(t,n){return/^_|then/.test(n)?t:(!function(t){return/^[^\)]+then\s*\)/.test(t)||/\._run\(/.test(t)}(r.prototype[n])?t[n]=e?function(t,e,n){return function(){return e[t].apply(e,arguments),n}}(n,e,t):function(){return t}:t[n]=e?function(t,e){return function(){var n=[].slice.call(arguments);if("function"==typeof n[n.length])throw new TypeError("Promise interface requires that handlers are not supplied inline, trailing function not allowed in call to "+t);return i.then((function(){return new Promise((function(r,o){n.push((function(t,e){t?o(new Error(t)):r(e)})),e[t].apply(e,n)}))}))}}(n,e):function(){return i},t)}),{})}},function(t,e,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=n(104):t.exports=n(106)},function(t,e,n){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(40)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=7*i,c=365.25*i;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=i)return a(t,e,i,"day");if(e>=o)return a(t,e,o,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=i)return Math.round(t/i)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){const r=n(25),o=n(9);e.init=function(t){t.inspectOpts={};const n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...t){return process.stderr.write(o.format(...t)+"\n")},e.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const e=this.color,o="[3"+(e<8?e:"8;5;"+e),i=`  ${o};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(e.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{const t=n(26);t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{const n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(t,e)=>e.toUpperCase());let r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),t.exports=n(40)(e);const{formatters:i}=t.exports;i.o=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts)}},function(t,e){t.exports=function(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}},function(t,e,n){t.exports={BranchDeleteSummary:n(109),BranchSummary:n(110),CommitSummary:n(111),DiffSummary:n(42),FetchSummary:n(112),FileStatusSummary:n(43),ListLogSummary:n(113),MergeSummary:n(114),MoveSummary:n(115),PullSummary:n(44),StatusSummary:n(116),TagList:n(117)}},function(t,e){function n(t,e){this.branch=t,this.hash=e,this.success=null!==e}t.exports=n,n.deleteSuccessRegex=/(\S+)\s+\(\S+\s([^\)]+)\)/,n.deleteErrorRegex=/^error[^']+'([^']+)'/,n.parse=function(t,e){var r,o=t.trim().split("\n").map((function(t){return(r=n.deleteSuccessRegex.exec(t))?new n(r[1],r[2]):(r=n.deleteErrorRegex.exec(t))?new n(r[1],null):void 0})).filter(Boolean);return e?o:o.pop()}},function(t,e){function n(){this.detached=!1,this.current="",this.all=[],this.branches={}}t.exports=n,n.prototype.push=function(t,e,n,r,o){t&&(this.detached=e,this.current=n),this.all.push(n),this.branches[n]={current:t,name:n,commit:r,label:o}},n.detachedRegex=/^(\*?\s+)\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,n.branchRegex=/^(\*?\s+)(\S+)\s+([a-z0-9]+)\s(.*)$/,n.parse=function(t){var e=new n;return t.split("\n").forEach((function(t){var r=!0,o=n.detachedRegex.exec(t);o||(r=!1,o=n.branchRegex.exec(t)),o&&e.push("*"===o[1].charAt(0),r,o[2],o[3],o[4])})),e}},function(t,e){function n(){this.branch="",this.commit="",this.summary={changes:0,insertions:0,deletions:0},this.author=null}t.exports=n;var r=/\[([^\s]+) ([^\]]+)/,o=/\s*Author:\s(.+)/i;n.parse=function(t){var e=t.trim().split("\n"),i=new n;return function(t,e){e&&(t.branch=e[1],t.commit=e[2])}(i,r.exec(e.shift())),o.test(e[0])&&function(t,e){var n=e[1].split("<"),r=n.pop();r.indexOf("@")<=0||(t.author={email:r.substr(0,r.length-1),name:n.join("<").trim()})}(i,o.exec(e.shift())),function(t,e){t.branch&&e&&(t.summary.changes=e[1]||0,t.summary.insertions=e[2]||0,t.summary.deletions=e[3]||0)}(i,/(\d+)[^,]*(?:,\s*(\d+)[^,]*)?(?:,\s*(\d+))?/g.exec(e.shift())),i}},function(t,e,n){"use strict";function r(t){this.raw=t,this.remote=null,this.branches=[],this.tags=[]}r.parsers=[[/From (.+)$/,function(t,e){t.remote=e[0]}],[/\* \[new branch\]\s+(\S+)\s*\-> (.+)$/,function(t,e){t.branches.push({name:e[0],tracking:e[1]})}],[/\* \[new tag\]\s+(\S+)\s*\-> (.+)$/,function(t,e){t.tags.push({name:e[0],tracking:e[1]})}]],r.parse=function(t){var e=new r(t);return String(t).trim().split("\n").forEach((function(t){var n=t.trim();r.parsers.some((function(t){var r=t[0].exec(n);if(r)return t[1](e,r.slice(1)),!0}))})),e},t.exports=r},function(t,e,n){t.exports=o;var r=n(42);function o(t){this.all=t,this.latest=t.length&&t[0]||null,this.total=t.length}function i(t,e){for(var n=0;n<e.length;n++)this[e[n]]=t[n]||""}o.prototype.all=null,o.prototype.latest=null,o.prototype.total=0,i.prototype.diff=null,o.START_BOUNDARY="òòòòòò ",o.COMMIT_BOUNDARY=" òò",o.SPLITTER=" ò ",o.parse=function(t,e,n){return n=n||["hash","date","message","refs","author_name","author_email"],new o(t.trim().split(o.START_BOUNDARY).filter((function(t){return!!t.trim()})).map((function(t){var s=t.trim().split(o.COMMIT_BOUNDARY),c=new i(s[0].trim().split(e),n);return s.length>1&&s[1].trim()&&(c.diff=r.parse(s[1])),c})))}},function(t,e,n){"use strict";t.exports=i;var r=n(44);function o(t,e){this.reason=t,this.file=e}function i(){r.call(this),this.conflicts=[],this.merges=[]}o.prototype.toString=function(){return this.file+":"+this.reason},i.prototype=Object.create(r.prototype),i.prototype.result="success",i.prototype.toString=function(){return this.conflicts.length?"CONFLICTS: "+this.conflicts.join(", "):"OK"},Object.defineProperty(i.prototype,"failed",{get:function(){return this.conflicts.length>0}}),i.parsers=[{test:/^Auto-merging\s+(.+)$/,handle:function(t,e){e.merges.push(t[1])}},{test:/^CONFLICT\s+\((.+)\).+ in (.+)$/,handle:function(t,e){e.conflicts.push(new o(t[1],t[2]))}},{test:/^Automatic merge failed;\s+(.+)$/,handle:function(t,e){e.reason=t[1]}}],i.parse=function(t){let e=new i;t.trim().split("\n").forEach((function(t){for(var n=0,r=i.parsers.length;n<r;n++){let r=i.parsers[n];var o=r.test.exec(t);if(o){r.handle(o,e);break}}}));let n=r.parse(t);return n.summary.changes&&Object.assign(e,n),e}},function(t,e){function n(){this.moves=[],this.sources={}}t.exports=n,n.SUMMARY_REGEX=/^Renaming (.+) to (.+)$/,n.parse=function(t){for(var e,r=t.split("\n"),o=new n,i=0,s=r.length;i<s;i++)(e=n.SUMMARY_REGEX.exec(r[i].trim()))&&o.moves.push({from:e[1],to:e[2]});return o}},function(t,e,n){var r=n(43);function o(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.modified=[],this.renamed=[],this.files=[],this.staged=[]}function i(t){var e=t.trim().match(/(..?)(\s+)(.*)/);if(e&&e[1].trim()||(e=t.trim().match(/(..?)\s+(.*)/)),e){var n=e[1];return e[2].length>1&&(n+=" "),1===n.length&&1===e[2].length&&(n=" "+n),{raw:n,code:n.trim(),index:n.charAt(0),workingDir:n.charAt(1),handler:o.parsers[n.trim()],path:e[3]}}}t.exports=o,o.prototype.ahead=0,o.prototype.behind=0,o.prototype.current=null,o.prototype.tracking=null,o.prototype.files=null,o.prototype.isClean=function(){return 0===Object.keys(this).filter((function(t){return Array.isArray(this[t])&&this[t].length}),this).length},o.parsers={"##":function(t,e){var n;n=/ahead (\d+)/.exec(t),e.ahead=n&&+n[1]||0,n=/behind (\d+)/.exec(t),e.behind=n&&+n[1]||0,n=/^(.+?(?=(?:\.{3}|\s|$)))/.exec(t),e.current=n&&n[1],n=/\.{3}(\S*)/.exec(t),e.tracking=n&&n[1]},"??":function(t,e){e.not_added.push(t)},A:function(t,e){e.created.push(t)},AM:function(t,e){e.created.push(t)},D:function(t,e){e.deleted.push(t)},M:function(t,e,n){e.modified.push(t),"M"===n&&e.staged.push(t)},R:function(t,e){var n=/^(.+) -> (.+)$/.exec(t)||[null,t,t];e.renamed.push({from:n[1],to:n[2]})},UU:function(t,e){e.conflicted.push(t)}},o.parsers.MM=o.parsers.M,o.parse=function(t){for(var e,n,s=t.trim().split("\n"),c=new o;n=s.shift();)(e=i(n))&&(e.handler&&e.handler(e.path,c,e.index,e.workingDir),"##"!==e.code&&c.files.push(new r(e.path,e.index,e.workingDir)));return c}},function(t,e){function n(t,e){this.latest=e,this.all=t}t.exports=n,n.parse=function(t,e){var r=function(t){return"string"==typeof t&&parseInt(t.replace(/^\D+/g,""),10)||0},o=t.trim().split("\n").map((function(t){return t.trim()})).filter(Boolean);e||o.sort((function(t,e){var n=t.split("."),o=e.split(".");if(1===n.length||1===o.length)return t-e>0?1:-1;for(var i=0,s=Math.max(n.length,o.length);i<s;i++){var c=r(n[i])-r(o[i]);if(c)return c>0?1:-1}return 0}));var i=e?o[0]:o.filter((function(t){return t.indexOf(".")>=0})).pop();return new n(o,i)}},function(t,e,n){var r=n(39);t.exports=function(t){var e=n(119);if(t&&!e.exists(t,e.exists.FOLDER))throw new Error("Cannot use simple-git on a directory that does not exist.");return new r(t||process.cwd(),e.childProcess(),e.buffer())}},function(t,e,n){t.exports={buffer:function(){return n(120).Buffer},childProcess:function(){return n(121)},exists:n(41)}},function(t,e){t.exports=require("buffer")},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(20);var o;!function(t){t.PLAYLIST="file_folder",t.ADD="new",t.REMOVE="negative_squared_cross_mark",t.TRANSFER="truck",t.MODIFY="pencil2",t.ARROW="arrow_right",t.UNKNOWN="question"}(o||(o={}));const i=t=>`:${o[t]}:`,s=t=>t.artists.length>0?`${t.artists[0].name} - ${t.name}`:t.name;e.actionToCommitMessage=(t,e)=>{const n=r.arrayToMap(e);switch(t.type){case"playlist-creation":return`${i("ADD")} Create ${i("PLAYLIST")} ${t.target.name}`;case"playlist-deletion":return`${i("REMOVE")} Delete ${i("PLAYLIST")} ${t.target.name}`;case"playlist-modification":return`${i("MODIFY")} Modify ${i("PLAYLIST")} ${t.newPlaylist.name}`;case"track-addition":{const e=n.get(t.destinationPlaylistId);return`${i("ADD")} ${s(t.target)} ${i("PLAYLIST")} ${e.name}`}case"track-removal":{const e=n.get(t.sourcePlaylistId);return`${i("REMOVE")} ${s(t.target)} ${i("PLAYLIST")} ${e.name}`}case"track-transfer":{const e=n.get(t.sourcePlaylistId),r=n.get(t.destinationPlaylistId);return`${i("TRANSFER")} ${s(t.addedTrack)} ${i("PLAYLIST")} ${e.name} ${i("ARROW")} ${r.name}`}case"track-modification":{const e=n.get(t.playlistId);return`${i("MODIFY")} ${s(t.newTrack)} ${i("PLAYLIST")} ${e.name}`}case"unknown":return`${i("UNKNOWN")} Unknown change`}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(54),i=n(124),s=n(20);o.init({dsn:process.env.SENTRY_DSN});const c="https://accounts.spotify.com/api/token",a=`https://api.spotify.com/v1/users/${process.env.SPOTIFY_USER_ID}/playlists`;e.default=new class{constructor(){this.accessToken=null}getAccessToken(){return r(this,void 0,void 0,(function*(){if(this.accessToken)return this.accessToken;const t=new URLSearchParams({grant_type:"refresh_token",refresh_token:process.env.SPOTIFY_REFRESH_TOKEN,client_id:process.env.SPOTIFY_CLIENT_ID,client_secret:process.env.SPOTIFY_CLIENT_SECRET}),{data:e}=yield i.default.post(c,t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return e.refresh_token&&o.captureException(new Error("A new refresh token is provided when refreshing the access key")),e.access_token}))}getItemsInAllPages(t,e){return r(this,void 0,void 0,(function*(){const n=(t,e)=>r(this,void 0,void 0,(function*(){const{data:n}=yield i.default.get(t,{headers:e});return{items:n.items,next:n.next}})),o=[];let s=t;for(;s;){const t=yield n(s,e);s=t.next,o.push(...t.items)}return o}))}getTracks(t){return r(this,void 0,void 0,(function*(){const e={Authorization:`Bearer ${yield this.getAccessToken()}`},n=(yield this.getItemsInAllPages(t,e)).map(t=>({id:t.track.id,name:t.track.name,artists:t.track.artists.map(t=>({id:t.id,name:t.name})),addedAt:t.added_at}));return s.sortTracks(n)}))}getPlaylists(){return r(this,void 0,void 0,(function*(){try{const t={Authorization:`Bearer ${yield this.getAccessToken()}`},e=(yield this.getItemsInAllPages(a,t)).filter(t=>t.owner.id===process.env.SPOTIFY_USER_ID),n=yield Promise.all(e.map(t=>r(this,void 0,void 0,(function*(){return{id:t.id,name:t.name,tracks:yield this.getTracks(t.tracks.href)}}))));return s.sortPlaylists(n.filter(t=>s.shouldBackup(t)))}catch(t){o.captureException(t)}}))}}},function(t,e,n){t.exports=n(125)},function(t,e,n){"use strict";var r=n(4),o=n(45),i=n(127),s=n(52);function c(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var a=c(n(47));a.Axios=i,a.create=function(t){return c(s(a.defaults,t))},a.Cancel=n(53),a.CancelToken=n(145),a.isCancel=n(46),a.all=function(t){return Promise.all(t)},a.spread=n(146),t.exports=a,t.exports.default=a},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(4),o=n(29),i=n(128),s=n(129),c=n(52);function a(t){this.defaults=t,this.interceptors={request:new i,response:new i}}a.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=c(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},a.prototype.getUri=function(t){return t=c(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){a.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){a.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=a},function(t,e,n){"use strict";var r=n(4);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(4),o=n(130),i=n(46),s=n(47),c=n(143),a=n(144);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!c(t.url)&&(t.url=a(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(4),o=n(48),i=n(29),s=n(15),c=n(16),a=n(50).http,u=n(50).https,f=n(14),l=n(137),p=n(138),h=n(30),d=n(49),y=/https:?/;t.exports=function(t){return new Promise((function(e,n){var m,g=function(t){clearTimeout(m),e(t)},v=function(t){clearTimeout(m),n(t)},_=t.data,b=t.headers;if(b["User-Agent"]||b["user-agent"]||(b["User-Agent"]="axios/"+p.version),_&&!r.isStream(_)){if(Buffer.isBuffer(_));else if(r.isArrayBuffer(_))_=Buffer.from(new Uint8Array(_));else{if(!r.isString(_))return v(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));_=Buffer.from(_,"utf-8")}b["Content-Length"]=_.length}var w=void 0;t.auth&&(w=(t.auth.username||"")+":"+(t.auth.password||""));var S=f.parse(t.url),E=S.protocol||"http:";if(!w&&S.auth){var x=S.auth.split(":");w=(x[0]||"")+":"+(x[1]||"")}w&&delete b.Authorization;var C=y.test(E),O=C?t.httpsAgent:t.httpAgent,k={path:i(S.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:b,agent:O,auth:w};t.socketPath?k.socketPath=t.socketPath:(k.hostname=S.hostname,k.port=S.port);var F,T=t.proxy;if(!T&&!1!==T){var j=E.slice(0,-1)+"_proxy",A=process.env[j]||process.env[j.toUpperCase()];if(A){var P=f.parse(A),N=process.env.no_proxy||process.env.NO_PROXY,R=!0;if(N)R=!N.split(",").map((function(t){return t.trim()})).some((function(t){return!!t&&("*"===t||("."===t[0]&&S.hostname.substr(S.hostname.length-t.length)===t&&t.match(/\./g).length===S.hostname.match(/\./g).length||S.hostname===t))}));if(R&&(T={host:P.hostname,port:P.port},P.auth)){var L=P.auth.split(":");T.auth={username:L[0],password:L[1]}}}}if(T&&(k.hostname=T.host,k.host=T.host,k.headers.host=S.hostname+(S.port?":"+S.port:""),k.port=T.port,k.path=E+"//"+S.hostname+(S.port?":"+S.port:"")+k.path,T.auth)){var I=Buffer.from(T.auth.username+":"+T.auth.password,"utf8").toString("base64");k.headers["Proxy-Authorization"]="Basic "+I}var D=C&&(!T||y.test(T.protocol));t.transport?F=t.transport:0===t.maxRedirects?F=D?c:s:(t.maxRedirects&&(k.maxRedirects=t.maxRedirects),F=D?u:a),t.maxContentLength&&t.maxContentLength>-1&&(k.maxBodyLength=t.maxContentLength);var M=F.request(k,(function(e){if(!M.aborted){var n=e;switch(e.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=204===e.statusCode?n:n.pipe(l.createUnzip()),delete e.headers["content-encoding"]}var r=e.req||M,i={status:e.statusCode,statusText:e.statusMessage,headers:e.headers,config:t,request:r};if("stream"===t.responseType)i.data=n,o(g,v,i);else{var s=[];n.on("data",(function(e){s.push(e),t.maxContentLength>-1&&Buffer.concat(s).length>t.maxContentLength&&(n.destroy(),v(h("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,r)))})),n.on("error",(function(e){M.aborted||v(d(e,t,null,r))})),n.on("end",(function(){var e=Buffer.concat(s);"arraybuffer"!==t.responseType&&(e=e.toString(t.responseEncoding)),i.data=e,o(g,v,i)}))}}}));M.on("error",(function(e){M.aborted||v(d(e,t,null,M))})),t.timeout&&(m=setTimeout((function(){M.abort(),v(h("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",M))}),t.timeout)),t.cancelToken&&t.cancelToken.promise.then((function(t){M.aborted||(M.abort(),v(t))})),r.isStream(_)?_.on("error",(function(e){v(d(e,t,null,M))})).pipe(M):M.end(_)}))}},function(t,e,n){"undefined"==typeof process||"renderer"===process.type?t.exports=n(134):t.exports=n(136)},function(t,e,n){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n(51)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,s=365.25*i;function c(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var c=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?c(a=t,i,"day")||c(a,o,"hour")||c(a,r,"minute")||c(a,n,"second")||a+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(25),o=n(9);(e=t.exports=n(51)).init=function(t){t.inspectOpts={};for(var n=Object.keys(e.inspectOpts),r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},e.formatArgs=function(t){var n=this.namespace;if(this.useColors){var r=this.color,o="[3"+(r<8?r:"8;5;"+r),i="  "+o+";1m"+n+" [0m";t[0]=i+t[0].split("\n").join("\n"+i),t.push(o+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+t[0]},e.save=function(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},e.load=s,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{var i=n(26);i&&i.level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}function s(){return process.env.DEBUG}e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t}),{}),e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts)},e.enable(s())},function(t,e){t.exports=require("zlib")},function(t){t.exports=JSON.parse('{"_from":"axios","_id":"axios@0.19.0","_inBundle":false,"_integrity":"sha512-1uvKqKQta3KBxIz14F2v06AEHZ/dIoeKfbTRkK1E5oqjDnuEerLmYTgJB5AiQZHJcljpg1TuRzdjDR06qNk0DQ==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"axios","name":"axios","escapedName":"axios","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.19.0.tgz","_shasum":"8e09bff3d9122e133f7b8101c8fbdd00ed3d2ab8","_spec":"axios","_where":"/Users/shiori/Programs/NodeProjects/spotify-backup/app","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"1.5.10","is-buffer":"^2.0.2"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","version":"0.19.0"}')},function(t,e,n){"use strict";var r=n(4),o=n(48),i=n(29),s=n(140),c=n(141),a=n(30);t.exports=function(t){return new Promise((function(e,u){var f=t.data,l=t.headers;r.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";l.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,u,r),p=null}},p.onabort=function(){p&&(u(a("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(a("Network Error",t,null,p)),p=null},p.ontimeout=function(){u(a("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=n(142),m=(t.withCredentials||c(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;m&&(l[t.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(l,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete l[e]:p.setRequestHeader(e,t)})),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),u(t),p=null)})),void 0===f&&(f=null),p.send(f)}))}},function(t,e,n){"use strict";var r=n(4),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,s={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(4);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(4);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,s){var c=[];c.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(i)&&c.push("domain="+i),!0===s&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(53);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(20);e.default=class{constructor(t,e){this.oldPlaylists=t,this.newPlaylists=e}applyAction(t,e){switch(e.type){case"playlist-creation":return r.sortPlaylists([...t,e.target]);case"playlist-deletion":return t.filter(t=>t.id!==e.target.id);case"playlist-modification":const n=t.map(t=>t.id===e.oldPlaylist.id?e.newPlaylist:t);return r.sortPlaylists(n);case"track-addition":return t.map(t=>t.id===e.destinationPlaylistId?Object.assign(Object.assign({},t),{tracks:r.sortTracks([...t.tracks,e.target])}):t);case"track-removal":return t.map(t=>t.id===e.sourcePlaylistId?Object.assign(Object.assign({},t),{tracks:t.tracks.filter(t=>!(t.id===e.target.id&&t.addedAt===e.target.addedAt))}):t);case"track-transfer":const o=this.applyAction(t,{type:"track-removal",sourcePlaylistId:e.sourcePlaylistId,target:e.removedTrack});return this.applyAction(o,{type:"track-addition",destinationPlaylistId:e.destinationPlaylistId,target:e.addedTrack});case"track-modification":return t.map(t=>t.id===e.playlistId?Object.assign(Object.assign({},t),{tracks:t.tracks.map(t=>t.id===e.oldTrack.id?e.newTrack:t)}):t);case"unknown":return e.newPlaylists;default:return t}}detectActions(){const t=[],e=[],n=[],o=[],i=[],s=[],c=[],a=r.arrayToMap(this.oldPlaylists),u=r.arrayToMap(this.newPlaylists);for(const t of this.oldPlaylists){const s=u.get(t.id);if(s){r.isPlaylistModified(t,s)&&n.push({type:"playlist-modification",oldPlaylist:t,newPlaylist:Object.assign(Object.assign({},s),{tracks:t.tracks})});const e=r.arrayToMap(t.tracks),a=r.arrayToMap(s.tracks);for(const e of t.tracks){const n=a.get(e.id);n?e.addedAt===n.addedAt?r.isTrackModified(e,n)&&c.push({type:"track-modification",playlistId:t.id,oldTrack:e,newTrack:n}):(i.push({type:"track-removal",sourcePlaylistId:t.id,target:e}),o.push({type:"track-addition",destinationPlaylistId:s.id,target:n})):i.push({type:"track-removal",sourcePlaylistId:t.id,target:e})}for(const t of s.tracks)e.get(t.id)||o.push({type:"track-addition",destinationPlaylistId:s.id,target:t})}else e.push({type:"playlist-deletion",target:t})}for(const e of this.newPlaylists)a.get(e.id)||(t.push({type:"playlist-creation",target:Object.assign(Object.assign({},e),{tracks:[]})}),o.push(...e.tracks.map(t=>({type:"track-addition",destinationPlaylistId:e.id,target:t}))));let f=0;for(;f<i.length;){const t=o.findIndex(t=>t.target.id===i[f].target.id);t>=0?(s.push({type:"track-transfer",sourcePlaylistId:i[f].sourcePlaylistId,destinationPlaylistId:o[t].destinationPlaylistId,removedTrack:i[f].target,addedTrack:o[t].target}),o.splice(t,1),i.splice(f,1)):f++}return[...e,...t,...n,...i,...o,...s,...c]}constructSnapshots(){const t=this.detectActions(),e=[];let n=this.oldPlaylists;e.push({playlists:this.oldPlaylists,actionFromPrev:null});for(const r of t)n=this.applyAction(n,r),e.push({playlists:n,actionFromPrev:r});return JSON.stringify(n)!==JSON.stringify(this.newPlaylists)&&e.push({playlists:this.newPlaylists,actionFromPrev:{type:"unknown",oldPlaylists:n,newPlaylists:this.newPlaylists}}),e}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r,o=n(10);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(r||(r={}));var i=function(){function t(t){var e=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(t,r.RESOLVED)},this._reject=function(t){e._setResult(t,r.REJECTED)},this._setResult=function(t,n){e._state===r.PENDING&&(Object(o.g)(t)?t.then(e._resolve,e._reject):(e._value=t,e._state=n,e._executeHandlers()))},this._executeHandlers=function(){e._state!==r.PENDING&&(e._state===r.REJECTED?e._handlers.forEach((function(t){return t.onFail&&t.onFail(e._value)})):e._handlers.forEach((function(t){return t.onSuccess&&t.onSuccess(e._value)})),e._handlers=[])},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._attachHandler({onFail:function(e){if(n)try{return void t(n(e))}catch(t){return void o(t)}else o(e)},onSuccess:function(n){if(e)try{return void t(e(n))}catch(t){return void o(t)}else t(n)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(5),o=Object(r.e)(),i="Sentry Logger ",s=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.b)((function(){o.console.log(i+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.b)((function(){o.console.warn(i+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.b)((function(){o.console.error(i+"[Error]: "+t.join(" "))}))},t}();o.__SENTRY__=o.__SENTRY__||{};var c=o.__SENTRY__.logger||(o.__SENTRY__.logger=new s)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"e",(function(){return d}));var r=n(0),o=n(5),i=n(149),s=n(24),c=3,a=function(){function t(t,e,n){void 0===e&&(e=new s.a),void 0===n&&(n=c),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}return t.prototype._invokeClient=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getStackTop();i&&i.client&&i.client[t]&&(e=i.client)[t].apply(e,r.f(n,[i.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=s.a.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(o.f)(),i=e;if(!e){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(t){s=t}i={originalException:t,syntheticException:s}}return this._invokeClient("captureException",t,r.a({},i,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var i=this._lastEventId=Object(o.f)(),s=n;if(!n){var c=void 0;try{throw new Error(t)}catch(t){c=t}s={originalException:t,syntheticException:c}}return this._invokeClient("captureMessage",t,e,r.a({},s,{event_id:i})),i},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(o.f)();return this._invokeClient("captureEvent",t,r.a({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var i=n.client.getOptions&&n.client.getOptions()||{},s=i.beforeBreadcrumb,c=void 0===s?null:s,a=i.maxBreadcrumbs,u=void 0===a?30:a;if(!(u<=0)){var f=(new Date).getTime()/1e3,l=r.a({timestamp:f},t),p=c?Object(o.b)((function(){return c(l,e)})):l;null!==p&&n.scope.addBreadcrumb(p,Math.min(u,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=f(this);try{t(this)}finally{f(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return i.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.traceHeaders=function(){var t=this.getStackTop();if(t.scope&&t.client){var e=t.scope.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}},t}();function u(){var t=Object(o.e)();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function f(t){var e=u(),n=h(e);return d(e,t),n}function l(){var e=u();p(e)&&!h(e).isOlderThan(c)||d(e,new a);try{var n=Object(o.c)(t,"domain").active;if(!n)return h(e);if(!p(n)||h(n).isOlderThan(c)){var r=h(e).getStackTop();d(n,new a(r.client,s.a.clone(r.scope)))}return h(n)}catch(t){return h(e)}}function p(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function h(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new a,t.__SENTRY__.hub)}function d(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}}).call(this,n(59)(t))}]);